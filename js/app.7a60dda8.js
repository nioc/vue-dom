(function(e){function t(t){for(var a,r,o=t[0],u=t[1],c=t[2],l=0,m=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);d&&d(t);while(m.length)m.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(t--,1),e=u(u.s=n[0]))}return e}var a={},r={app:0},i={app:0},s=[];function o(e){return u.p+"js/"+({About:"About",Admin:"Admin",Notifications:"Notifications",Profile:"Profile",Rain:"Rain",Scenarios:"Scenarios"}[e]||e)+"."+{About:"fd7d0f00",Admin:"b4465d1f",Notifications:"eb5b2194",Profile:"6dd5e687",Rain:"ffea60cf",Scenarios:"55c59e6b"}[e]+".js"}function u(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={Admin:1,Rain:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({About:"About",Admin:"Admin",Notifications:"Notifications",Profile:"Profile",Rain:"Rain",Scenarios:"Scenarios"}[e]||e)+"."+{About:"31d6cfe0",Admin:"c59dc299",Notifications:"31d6cfe0",Profile:"31d6cfe0",Rain:"1980135c",Scenarios:"31d6cfe0"}[e]+".css",i=u.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var c=s[o],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===a||l===i))return t()}var m=document.getElementsByTagName("style");for(o=0;o<m.length;o++){c=m[o],l=c.getAttribute("data-href");if(l===a||l===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],d.parentNode.removeChild(d),n(s)},d.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){r[e]=0})));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=i[e]=[t,n]}));t.push(a[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=o(e);var m=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",m.name="ChunkLoadError",m.type=a,m.request=r,n[1](m)}i[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=a,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)u.d(n,a,function(t){return e[t]}.bind(null,a));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var m=0;m<c.length;m++)t(c[m]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07fc":function(e,t,n){"use strict";n("68f1")},"0b92":function(e,t,n){var a={"./CustomComponent":["167f"],"./CustomComponent.vue":["167f"],"./GenericComponent":["cd32"],"./GenericComponent.vue":["cd32"],"./LoadingComponent":["d09c"],"./LoadingComponent.vue":["d09c"],"./Rain":["2dec","Rain"],"./Rain.vue":["2dec","Rain"]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id="0b92",e.exports=r},"167f":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.component,{tag:"component",attrs:{equipment:e.equipment}})},r=[],i=n("ade3"),s=(n("d3b7"),n("b64b"),n("3ca3"),n("ddb0"),n("d09c")),o=window.custom.components,u={components:Object.keys(o).reduce((function(e,t){var a=o[t];return Object.assign(e,Object(i["a"])({},a,(function(){return{component:n("0b92")("./"+a),loading:s["default"],delay:0}})))}),{}),props:{equipment:{type:Object,required:!0},component:{type:String,required:!0}}},c=u,l=n("2877"),m=Object(l["a"])(c,a,r,!1,null,null,null);t["default"]=m.exports},"2fbc":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box is-radiusless has-background-white-bis"},[n("nav",{staticClass:"breadcrumb container is-flex-space-between",attrs:{"aria-label":"breadcrumbs"}},[n("ul",e._l(e.items,(function(t,a){return n("li",{key:t.text,class:{"is-active":t.isActive}},[n("router-link",{attrs:{to:t.link}},[t.icon?n("span",{staticClass:"icon is-small"},[n("i",{staticClass:"fa",class:t.icon,attrs:{"aria-hidden":"true"}})]):e._e(),n("span",{class:{"is-hidden-mobile":a!==e.items.length-1&&t.icon}},[e._v(e._s(t.text))])])],1)})),0),e.summary&&e.summary.keys?n("aside",{staticClass:"has-text-grey has-text-weight-light is-size-7 ml-3"},e._l(e.summary.keys,(function(t){return n("span",{key:t.key,staticClass:"pl-2"},[n("i",{staticClass:"fa-fw",class:e.getSummaryIconClass(t.key)}),e._v(e._s(t.value)+e._s(e.getSummaryUnit(t.key)))])})),0):e._e()])])},r=[],i=n("3d8e"),s={mixins:[i["a"]],props:{items:{type:Array,required:!0},summary:{type:Object,required:!1,default:null}}},o=s,u=n("2877"),c=Object(u["a"])(o,a,r,!1,null,null,null);t["a"]=c.exports},"2fc4":function(e,t,n){},"3d8e":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("5530"),r=(n("7db0"),n("d3b7"),n("2f62")),i=Object(r["a"])("data"),s=i.mapGetters,o={data:function(){return{summaryKeys:[{key:"TEMPERATURE",label:"Température"},{key:"LIGHT",label:"Lumières"},{key:"HUMIDITY",label:"Humidité"},{key:"POWER",label:"Puissance"},{key:"DOWNLOAD",label:"Download"},{key:"UPLOAD",label:"Upload"}]}},computed:Object(a["a"])({},s(["getRoomSummaryById"])),methods:{getSummaryIconClass:function(e){switch(e){case"humidity":return"fa fa-tint";case"temperature":return"fa fa-thermometer-half";case"light":return"fa fa-lightbulb";case"power":return"fa fa-bolt";case"download":return"fas fa-arrow-down";case"upload":return"fas fa-arrow-up"}return""},getSummaryUnit:function(e){switch(e){case"humidity":return"%";case"temperature":return"°C";case"light":return"";case"power":return" W";case"upload":case"download":return" Ko/s"}return""},getSummaryTypeLabel:function(e){var t=this.summaryKeys.find((function(t){return t.key===e}));return t?t.label:e}}}},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=(n("2ca0"),n("2f62")),i=n("bfa9"),s=n("5530"),o=(n("d3b7"),n("159b"),n("b64b"),function(){return{login:null,isAuthenticated:!1,roles:[],information:{}}}),u=Object(s["a"])({hasNetwork:!1,hasEventsListenerOpen:!1,hasSidebarOpened:!1},o()),c={},l={setUser:function(e,t){e.login=t.login,e.id=t.id,e.isAuthenticated=t.isAuthenticated,e.roles=t.roles},setEventsListenerStatus:function(e,t){e.hasEventsListenerOpen=t},setNetworkStatus:function(e,t){e.hasNetwork=t},setInformation:function(e,t){e.information=t},clear:function(e){var t=o();Object.keys(t).forEach((function(n){e[n]=t[n]}))},setSidebarStatus:function(e,t){e.hasSidebarOpened=t}},m={},d={namespaced:!0,state:u,getters:c,actions:m,mutations:l},p=n("2909"),f=n("1da1"),h=(n("96cf"),n("d81d"),n("4de4"),n("07ac"),n("caad"),n("2532"),n("b0c0"),n("c740"),n("a434"),n("ddb0"),n("99af"),n("4e82"),n("6062"),n("3ca3"),n("5e23")),b=new a["a"],g=new h["b"].Entity("states"),v=new h["b"].Entity("actions"),y=new h["b"].Entity("equipments",{states:[g],actions:[v]}),w=new h["b"].Entity("rooms",{equipments:[y]}),k=new h["b"].Array(w),x=new h["b"].Entity("scenarios"),I=new h["b"].Array(x),O=function(){return{rooms:{},roomsSummary:{},roomsRaw:[],equipments:{},states:{},actions:{},summaryList:[],statesStatistics:{},tagsList:[],scenarios:{},channels:{},notifications:[],userViews:{},userViewsList:[]}},R=O(),C={getRoomById:function(e){return function(t){return e.rooms[t]||{name:"",equipments:[]}}},getRoomSummaryById:function(e){return function(t){return e.roomsSummary[t]||{}}},getEquipmentById:function(e){return function(t){return e.equipments[t]||{states:[],actions:[]}}},getEquipmentsIdByTag:function(e){return function(t){return Object.values(e.equipments).filter((function(e){return e.tags.includes(t)})).map((function(e){return e.id}))}},getStatesByEquipmentId:function(e,t){return function(n){var a=[],r=e.equipments[n].states;return r.forEach((function(e){var n=t.getStateById(e);a.push({id:n.id,type:n.type,genericType:n.genericType,isVisible:n.isVisible})})),a}},getActionsByEquipmentId:function(e,t){return function(n){var a=[],r=e.equipments[n].actions;return r.forEach((function(e){var n=t.getActionById(e);a.push({id:n.id,name:n.name,type:n.type,stateFeedbackId:n.stateFeedbackId,isVisible:n.isVisible,options:n.options,needsConfirm:n.needsConfirm})})),a}},getStatesByIds:function(e,t){return function(e){var n=[];return e.forEach((function(e){var a=t.getStateById(e);n.push({id:a.id,type:a.type,genericType:a.genericType,isVisible:a.isVisible})})),n}},getActionsByIds:function(e,t){return function(e){var n=[];return e.forEach((function(e){var a=t.getActionById(e);n.push({id:a.id,type:a.type,stateFeedbackId:a.stateFeedbackId,isVisible:a.isVisible})})),n}},getStateById:function(e){return function(t){return e.states[t]||{}}},getActionById:function(e){return function(t){return e.actions[t]||{}}},getStateStatisticsById:function(e){return function(t){return e.statesStatistics[t]||null}},getScenarios:function(e){return function(){return Object.keys(e.scenarios).map((function(t){return e.scenarios[t]}))}},getNotificationsCount:function(e){return function(){return e.notifications.length}},getRoomVisiblesEquipment:function(e){return function(t){return e.rooms[t].equipments.filter((function(t){return e.equipments[t].isVisible}))}},getUserViewByCode:function(e){return function(t){return e.userViews[t]||null}}},j={saveRooms:function(e,t){e.roomsRaw=t;var n=Object(h["a"])(t,k);Object.assign(e,n.entities)},updateRooms:function(e,t){var n={};t.forEach((function(t){var a=t.id;if(e.rooms[a])for(var r in n[a]=e.rooms[a],t)n[a][r]=t[r];else n[a]=t})),Object.keys(n).length>0&&(e.rooms=Object.assign({},e.rooms,n));var a=t.map((function(e){return e.id}));for(var r in e.rooms)a.includes(r)||delete e.rooms[r]},saveRoom:function(e,t){var n=Object(h["a"])(t,w);if(Object.prototype.hasOwnProperty.call(e.rooms,t.id))for(var a in n.entities.rooms[t.id])e.rooms[t.id][a]=n.entities.rooms[t.id][a];else e.rooms[t.id]=n.entities.rooms[t.id];Object.assign(e.equipments,n.entities.equipments),Object.assign(e.states,n.entities.states),Object.assign(e.actions,n.entities.actions)},deleteRoom:function(e,t){delete e.rooms[t];var n=e.roomsRaw.findIndex((function(e){return e.id===t}));-1!==n&&e.roomsRaw.splice(n,1)},saveRoomSummary:function(e,t){"global"===t.id&&(t.id=0);var n={key:t.key,value:t.value},a=e.roomsSummary[t.id];if(a){var r=a.keys.findIndex((function(e){return e.key===t.key}));-1!==r?a.keys.splice(r,1,n):a.keys.push(n)}else a={id:t.id,keys:[n]};var i=[];i[t.id]=a,e.roomsSummary=Object.assign({},e.roomsSummary,i)},saveStateStatistics:function(e,t){var n={};n[t.id]=t.statistics,e.statesStatistics=Object.assign({},e.statesStatistics,n)},updateEquipments:function(e,t){var n={};t.forEach((function(t){var a=t.id;if(!e.equipments[a])return t.actions||(t.actions=[]),t.states||(t.states=[]),n[a]=t,Object.prototype.hasOwnProperty.call(t,"roomId")&&null!==t.roomId&&e.rooms[t.roomId].equipments.push(t.id),void(Object.prototype.hasOwnProperty.call(t,"tags")&&(e.tagsList=e.tagsList.concat(t.tags.filter((function(t){return!e.tagsList.includes(t)})))));var r=e.equipments[a].roomId;for(var i in n[a]=Object.assign({},e.equipments[a]),t)n[a][i]=t[i];if(r!==t.roomId){if(Object.prototype.hasOwnProperty.call(e.equipments[a],"roomId")&&null!==r){var s=e.rooms[r].equipments.indexOf(t.id);-1!==s&&e.rooms[r].equipments.splice(s,1)}Object.prototype.hasOwnProperty.call(t,"roomId")&&null!==t.roomId&&e.rooms[t.roomId].equipments.push(t.id)}if(Object.prototype.hasOwnProperty.call(t,"tags")&&(!Object.prototype.hasOwnProperty.call(e.equipments,a)||!Object.prototype.hasOwnProperty.call(e.equipments[a],"tags")||e.equipments[a].tags.length!==t.tags.length||e.equipments[a].tags.some((function(e,n){return e!==t.tags[n]})))){var o=t.tags.filter((function(t){return!Object.prototype.hasOwnProperty.call(e.equipments,a)||!e.equipments[a].tags.includes(t)})).filter((function(t){return!e.tagsList.includes(t)}));Object.prototype.hasOwnProperty.call(e.equipments[a],"tags")&&e.equipments[a].tags.filter((function(e){return!t.tags.includes(e)})).filter((function(t){return!Object.values(e.equipments).some((function(e){return e.id!==a&&e.tags.includes(t)}))})).forEach((function(t){var n=e.tagsList.indexOf(t);e.tagsList.splice(n,1)})),e.tagsList=e.tagsList.concat(o)}})),Object.keys(n).length>0&&(e.equipments=Object.assign({},e.equipments,n))},deleteEquipment:function(e,t){var n=t.equipmentId,a=t.roomId;if(Object.prototype.hasOwnProperty.call(e.equipments,n)){if(e.equipments[n].tags.filter((function(t){return!Object.values(e.equipments).some((function(e){return e.id!==n&&e.tags.includes(t)}))})).forEach((function(t){var n=e.tagsList.indexOf(t);e.tagsList.splice(n,1)})),a){var r=e.rooms[a].equipments.indexOf(n);-1!==r&&e.rooms[a].equipments.splice(r,1)}delete e.equipments[n]}},updateStates:function(e,t){var n={};t.forEach((function(t){var a=t.id;if(!e.states[a])return n[a]=t,void(Object.prototype.hasOwnProperty.call(t,"eqId")&&null!==t.eqId&&Object.prototype.hasOwnProperty.call(e.equipments,t.eqId)&&e.equipments[t.eqId].states.push(t.id));var r=e.states[a].eqId;for(var i in n[a]=Object.assign({},e.states[a]),t)n[a][i]=t[i];if(r!==t.eqId){if(Object.prototype.hasOwnProperty.call(e.states[a],"eqId")&&null!==r&&Object.prototype.hasOwnProperty.call(e.equipments,r)){var s=e.equipments[r].states.indexOf(t.id);-1!==s&&e.equipments[r].states.splice(s,1)}Object.prototype.hasOwnProperty.call(t,"eqId")&&null!==t.eqId&&Object.prototype.hasOwnProperty.call(e.equipments,t.eqId)&&e.equipments[t.eqId].states.push(t.id)}})),Object.keys(n).length>0&&(e.states=Object.assign({},e.states,n))},updateActions:function(e,t){var n={};t.forEach((function(t){var a=t.id;if(!e.actions[a])return n[a]=t,void(Object.prototype.hasOwnProperty.call(t,"eqId")&&null!==t.eqId&&Object.prototype.hasOwnProperty.call(e.equipments,t.eqId)&&e.equipments[t.eqId].actions.push(t.id));var r=e.actions[a].eqId;for(var i in n[a]=Object.assign({},e.actions[a]),t)n[a][i]=t[i];if(r!==t.eqId){if(Object.prototype.hasOwnProperty.call(e.actions[a],"eqId")&&null!==r&&Object.prototype.hasOwnProperty.call(e.equipments,r)){var s=e.equipments[r].actions.indexOf(t.id);-1!==s&&e.equipments[r].actions.splice(s,1)}Object.prototype.hasOwnProperty.call(t,"eqId")&&null!==t.eqId&&Object.prototype.hasOwnProperty.call(e.equipments,t.eqId)&&e.equipments[t.eqId].actions.push(t.id)}})),Object.keys(n).length>0&&(e.actions=Object.assign({},e.actions,n))},updateStatesActions:function(e,t){var n={},r={},i={};t.forEach((function(t){var s=t.id;if(e.states[s]||e.actions[s]){if(e.states[s]){n[s]=e.states[s],n[s].currentValue=t.currentValue;var o=e.states[s].eqId;a["a"].moment(t.collectDate).isAfter(e.equipments[o].lastCommunication)&&(i[o]=e.equipments[o],i[o].lastCommunication=a["a"].moment(t.collectDate).format())}e.actions[s]&&(r[s]=e.actions[s],r[s].currentValue=t.currentValue)}})),Object.keys(n).length>0&&(e.states=Object.assign({},e.states,n)),Object.keys(r).length>0&&(e.actions=Object.assign({},e.actions,r)),Object.keys(i).length>0&&(e.equipments=Object.assign({},e.equipments,i))},updateChannels:function(e,t){var n={};t.forEach((function(t){var a=t.id;if(e.channels[a])for(var r in n[a]=Object.assign({},e.channels[a]),t)n[a][r]=t[r];else n[a]=t})),Object.keys(n).length>0&&(e.channels=Object.assign({},e.channels,n))},deleteState:function(e,t){var n=t.stateId,a=t.eqId;if(delete e.states[n],a){var r=e.equipments[a].states.indexOf(n);-1!==r&&e.equipments[a].states.splice(r,1)}},deleteAction:function(e,t){var n=t.actionId,a=t.eqId;if(delete e.actions[n],a){var r=e.equipments[a].actions.indexOf(n);-1!==r&&e.equipments[a].actions.splice(r,1)}},deleteChannel:function(e,t){var n=t.channelId;delete e.channels[n]},updateUserViews:function(e,t){var n={};t.forEach((function(t){var a=t.code;if(e.userViews[a])for(var r in n[a]=Object.assign({},e.userViews[a]),t)n[a][r]=t[r];else n[a]=t})),Object.keys(n).length>0&&(e.userViews=Object.assign({},e.userViews,n)),e.userViewsList=Object.values(e.userViews)},deleteUserView:function(e,t){delete e.userViews[t],e.userViewsList=Object.values(e.userViews)},saveTags:function(e,t){e.tagsList=t},saveScenarios:function(e,t){var n=Object(h["a"])(t,I);Object.assign(e,n.entities)},updateScenario:function(e,t){if(e.scenarios[t.id]){var n={};n[t.id]=e.scenarios[t.id],n[t.id].state=t.state,e.scenarios=Object.assign({},e.scenarios,n)}},saveNotifications:function(e,t){e.notifications=t},addNotification:function(e,t){e.notifications.push(t),e.notifications.sort((function(e,t){return a["a"].moment(t.date)-a["a"].moment(e.date)}))},clear:function(e){Object.assign(e,O())}},q={vxLoadRooms:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,b.$Provider.getSummary().then((function(e){for(var t in e)null!==e[t]&&n("saveRoomSummary",{id:"global",key:t,value:e[t]})}),(function(e){n("app/setInformation",{type:"is-danger",message:"Erreur lors de la récupération du résumé global<br>".concat(e.message)},{root:!0})})),t.next=5,b.$Provider.getRooms(!0,!0);case 5:if(a=t.sent,void 0!==a){t.next=8;break}return t.abrupt("return");case 8:n("saveRooms",a),r=[],a.forEach((function(e){e.equipments.forEach((function(e){r=r.concat(e.tags)}))})),n("saveTags",Object(p["a"])(new Set(r))),i=!1,a.forEach((function(e){e.summary&&Array.isArray(e.summary)&&(i=!0,e.summary.forEach((function(t){n("saveRoomSummary",{id:e.id,key:t.key,value:t.value})})))})),i||a.forEach(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(t.summary);case 1:if((e.t1=e.t0()).done){e.next=9;break}return a=e.t1.value,e.next=5,b.$Provider.getRoomSummary(t.id,a);case 5:r=e.sent,n("saveRoomSummary",{id:t.id,key:a,value:r}),e.next=1;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors de la récupération des pièces<br>".concat(t.t0.message)},{root:!0});case 20:case"end":return t.stop()}}),t,null,[[1,17]])})))()},vxRefreshRooms:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,b.$Provider.getRooms(!1,!1);case 4:if(a=t.sent,void 0!==a){t.next=7;break}return t.abrupt("return");case 7:n("updateRooms",a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors du rafrichissement des pièces<br>".concat(t.t0.message)},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},vxSaveRoom:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=t.room,i=t.isNew,n.prev=2,!i){n.next=9;break}return n.next=6,b.$Provider.createRoom(r);case 6:r=n.sent,n.next=12;break;case 9:return n.next=11,b.$Provider.updateRoom(r);case 11:r=n.sent;case 12:return s={id:r.id,isVisible:r.isVisible,name:r.name,parentId:r.parentId},r.equipments&&(s.equipments=r.equipments),r.summary&&(s.summary=r.summary),a("saveRoom",s),n.abrupt("return",r);case 19:return n.prev=19,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:n.t0.message},{root:!0}),n.abrupt("return",!1);case 23:case"end":return n.stop()}}),n,null,[[2,19]])})))()},vxDeleteRoom:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.prev=1,n.next=4,b.$Provider.deleteRoom(t);case 4:return a("deleteRoom",t),n.abrupt("return",!0);case 8:return n.prev=8,n.t0=n["catch"](1),a("app/setInformation",{type:"is-danger",message:n.t0.message},{root:!0}),n.abrupt("return",!1);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))()},vxRefreshEquipments:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,b.$Provider.getEquipments(!1,!1);case 4:if(a=t.sent,void 0!==a){t.next=7;break}return t.abrupt("return");case 7:n("updateEquipments",a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors du rafrichissement des équipements<br>".concat(t.t0.message)},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},vxSaveEquipment:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=t.equipment,i=t.isNew,n.prev=2,!i){n.next=9;break}return n.next=6,b.$Provider.createEquipment(r);case 6:r=n.sent,n.next=12;break;case 9:return n.next=11,b.$Provider.updateEquipment(r);case 11:r=n.sent;case 12:return a("updateEquipments",[r]),n.abrupt("return",r);case 16:return n.prev=16,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:n.t0.message},{root:!0}),n.abrupt("return",!1);case 20:case"end":return n.stop()}}),n,null,[[2,16]])})))()},vxDeleteEquipment:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=t.equipmentId,i=t.roomId,n.prev=2,n.next=5,b.$Provider.deleteEquipment(r);case 5:return a("deleteEquipment",{equipmentId:r,roomId:i}),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:n.t0.message},{root:!0}),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},vxRefreshStates:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,b.$Provider.getStates();case 4:if(a=t.sent,void 0!==a){t.next=7;break}return t.abrupt("return");case 7:n("updateStates",a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors du rafrichissement des états<br>".concat(t.t0.message)},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},vxSaveState:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=t.state,i=t.isNew,n.prev=2,!i){n.next=9;break}return n.next=6,b.$Provider.createState(r);case 6:r=n.sent,n.next=12;break;case 9:return n.next=11,b.$Provider.updateState(r);case 11:r=n.sent;case 12:return a("updateStates",[r]),n.abrupt("return",r);case 16:return n.prev=16,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la sauvegarde de l'état<br>".concat(n.t0.message)},{root:!0}),n.abrupt("return",!1);case 20:case"end":return n.stop()}}),n,null,[[2,16]])})))()},vxDeleteState:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=t.stateId,i=t.eqId,n.prev=2,n.next=5,b.$Provider.deleteState(r);case 5:return a("deleteState",{stateId:r,eqId:i}),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la suppression de l'état<br>".concat(n.t0.message)},{root:!0}),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},vxRefreshActions:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,b.$Provider.getActions();case 4:if(a=t.sent,void 0!==a){t.next=7;break}return t.abrupt("return");case 7:n("updateActions",a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors du rafrichissement des actions<br>".concat(t.t0.message)},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},vxSaveAction:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=t.action,i=t.isNew,n.prev=2,!i){n.next=9;break}return n.next=6,b.$Provider.createAction(r);case 6:r=n.sent,n.next=12;break;case 9:return n.next=11,b.$Provider.updateAction(r);case 11:r=n.sent;case 12:return a("updateActions",[r]),n.abrupt("return",r);case 16:return n.prev=16,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la sauvegarde de l'action<br>".concat(n.t0.message)},{root:!0}),n.abrupt("return",!1);case 20:case"end":return n.stop()}}),n,null,[[2,16]])})))()},vxDeleteAction:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=t.actionId,i=t.eqId,n.prev=2,n.next=5,b.$Provider.deleteAction(r);case 5:return a("deleteAction",{actionId:r,eqId:i}),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la suppression de l'action<br>".concat(n.t0.message)},{root:!0}),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},vxLoadStateStatistics:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,e.state,n.prev=1,n.next=4,b.$Provider.getStatistics(t);case 4:if(r=n.sent,void 0!==r){n.next=7;break}return n.abrupt("return");case 7:a("saveStateStatistics",{id:t,statistics:r}),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](1),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la récupération des statistiques<br>".concat(n.t0.message)},{root:!0});case 13:case"end":return n.stop()}}),n,null,[[1,10]])})))()},vxExecuteAction:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,n.prev=1,n.next=4,b.$Provider.executeAction(t.id,t.options);case 4:n.next=10;break;case 6:n.prev=6,n.t0=n["catch"](1),console.error(n.t0),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la requête d'exécution de la commande<br>".concat(n.t0.message)},{root:!0});case 10:case"end":return n.stop()}}),n,null,[[1,6]])})))()},vxLoadScenarios:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,b.$Provider.getScenarios();case 4:if(a=t.sent,void 0!==a){t.next=7;break}return t.abrupt("return");case 7:n("saveScenarios",a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors de la récupération des scénarios<br>".concat(t.t0.message)},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},vxLoadNotifications:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,b.$Provider.getNotifications();case 4:if(r=t.sent,void 0!==r){t.next=7;break}return t.abrupt("return");case 7:r.sort((function(e,t){return a["a"].moment(t.date)-a["a"].moment(e.date)})),n("saveNotifications",r),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors de la récupération des notifications<br>".concat(t.t0.message)},{root:!0});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},vxRefreshChannels:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,b.$Provider.getChannels();case 4:if(a=t.sent,void 0!==a){t.next=7;break}return t.abrupt("return");case 7:n("updateChannels",a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors du rafraichissement des canaux<br>".concat(t.t0.message)},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},vxSaveChannel:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=t.channel,i=t.isNew,n.prev=2,!i){n.next=9;break}return n.next=6,b.$Provider.createChannel(r);case 6:r=n.sent,n.next=12;break;case 9:return n.next=11,b.$Provider.updateChannel(r);case 11:r=n.sent;case 12:return a("updateChannels",[r]),n.abrupt("return",r);case 16:return n.prev=16,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la sauvegarde du canal<br>".concat(n.t0.message)},{root:!0}),n.abrupt("return",!1);case 20:case"end":return n.stop()}}),n,null,[[2,16]])})))()},vxDeleteChannel:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=t.channelId,n.prev=2,n.next=5,b.$Provider.deleteChannel(r);case 5:return a("deleteChannel",{channelId:r}),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la suppression du canal<br>".concat(n.t0.message)},{root:!0}),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()},vxRefreshUserViews:function(e){return Object(f["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.prev=1,t.next=4,b.$Provider.getUserViews();case 4:if(a=t.sent,void 0!==a){t.next=7;break}return t.abrupt("return");case 7:n("updateUserViews",a),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),n("app/setInformation",{type:"is-danger",message:"Erreur lors du rafraichissement des vues<br>".concat(t.t0.message)},{root:!0});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})))()},vxSaveUserView:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,r=t.userView,i=t.isNew,n.prev=2,!i){n.next=9;break}return n.next=6,b.$Provider.createUserView(r);case 6:r=n.sent,n.next=12;break;case 9:return n.next=11,b.$Provider.updateUserView(r);case 11:r=n.sent;case 12:return a("updateUserViews",[r]),n.abrupt("return",r);case 16:return n.prev=16,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la sauvegarde de la vue utilisateur<br>".concat(n.t0.message)},{root:!0}),n.abrupt("return",!1);case 20:case"end":return n.stop()}}),n,null,[[2,16]])})))()},vxDeleteUserView:function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=t.viewId,i=t.viewCode,n.prev=2,n.next=5,b.$Provider.deleteUserView(r);case 5:return a("deleteUserView",i),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n["catch"](2),a("app/setInformation",{type:"is-danger",message:"Erreur lors de la suppression de la vue utilisateur<br>".concat(n.t0.message)},{root:!0}),n.abrupt("return",!1);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))()}},S={namespaced:!0,state:R,getters:C,actions:q,mutations:j},_=window.custom,E=new i["a"]({storage:window.localStorage,modules:["data"],filter:function(e){return e.type.startsWith("data/")&&"data/clear"!==e.type},key:"".concat(_.provider.system,"-data")});a["a"].use(r["b"]);var V=new r["b"].Store({actions:{clear:function(e){var t=e.commit;t("app/clear"),t("data/clear"),localStorage.clear(),sessionStorage.clear()}},modules:{app:d,data:S},plugins:[E.plugin],strict:!1}),A=window.custom.provider,P={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{store:null};if(void 0===A||!("system"in A))throw new Error("No system provider set, check your local.js");switch(A.system){case"demo":e.prototype.$Provider=n("a464").DemoApi(e,t.store,A.statisticsPeriod,A.trendPeriod,A.trendThreshold);break;default:throw e.prototype.$Provider={},new Error('System provider "'.concat(A.system,'" is not handled'))}}},$=(n("ac1f"),n("841c"),n("5319"),n("8c4f")),L=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container has-text-centered"},[n("div",{staticClass:"column is-4 is-offset-4"},[n("div",{staticClass:"box has-background-white-bis"},[n("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[n("h3",{staticClass:"title has-text-grey"},[e._v(e._s(e.title))]),n("p",{staticClass:"subtitle has-text-grey"},[e._v("Login")]),n("div",{staticClass:"field"},[n("div",{staticClass:"control has-icons-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.login,expression:"credentials.login"}],staticClass:"input is-medium",attrs:{type:"text",name:"login",placeholder:"Username"},domProps:{value:e.credentials.login},on:{input:function(t){t.target.composing||e.$set(e.credentials,"login",t.target.value)}}}),e._m(0)])]),n("div",{staticClass:"field"},[n("div",{staticClass:"control has-icons-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],staticClass:"input is-medium",attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}}),e._m(1)])]),n("div",{staticClass:"field has-text-left pl-3"},[n("b-checkbox",{class:{"has-text-grey-light":!e.credentials.remember},model:{value:e.credentials.remember,callback:function(t){e.$set(e.credentials,"remember",t)},expression:"credentials.remember"}},[e._v(" Rester connecté ")])],1),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-block is-primary is-medium is-fullwidth",class:{"is-loading":e.isLoading},attrs:{type:"submit",disabled:e.isDisabled}},[n("span",{staticClass:"fa fa-sign-in-alt fa-fw mr-3",attrs:{"aria-hidden":"true"}}),e._v("Login")])]),e.error?n("div",{staticClass:"message is-danger"},[n("div",{staticClass:"message-body has-text-danger"},[e._v(e._s(e.error))])]):e._e()])])])])])])},T=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-user"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fa fa-key"})])}],D=(n("e9c4"),window.custom);function N(e,t){return M.apply(this,arguments)}function M(){return M=Object(f["a"])(regeneratorRuntime.mark((function e(t,n){var r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new a["a"],i=r.$Provider.getRoles(n),s=r.$Provider.getUserId(n),e.next=5,r.$Provider.setAuthentication(n);case 5:return n=e.sent,V.commit("app/setUser",{isAuthenticated:!0,login:t,roles:i,id:s}),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),M.apply(this,arguments)}var z={login:function(e,t,n){return Object(f["a"])(regeneratorRuntime.mark((function r(){var i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e&&t){r.next=2;break}return r.abrupt("return",!1);case 2:return r.next=4,(new a["a"]).$Provider.authenticate(e,t);case 4:if(i=r.sent,i){r.next=7;break}return r.abrupt("return",!1);case 7:return r.next=9,N(e,i);case 9:return i=r.sent,n&&(s="".concat(D.provider.system,"-user"),localStorage.setItem(s,JSON.stringify({login:e,authentication:i}))),r.abrupt("return",!0);case 12:case"end":return r.stop()}}),r)})))()},logout:function(){return Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(new a["a"]).$Provider.logout();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:V.dispatch("clear");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},restoreUser:function(){return Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t="".concat(D.provider.system,"-user"),n=JSON.parse(localStorage.getItem(t)),!n){e.next=9;break}return e.next=6,N(n.login,n.authentication);case 6:a=e.sent,r="".concat(D.provider.system,"-user"),localStorage.setItem(r,JSON.stringify({login:n.login,authentication:a}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error("Error during restore user",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},U=Object(r["a"])("app"),B=U.mapState,H=window.custom,F={data:function(){return{title:H.title,credentials:{login:"",password:"",remember:!1},isLoading:!1,error:""}},computed:Object(s["a"])({isDisabled:function(){return this.isLoading||!this.credentials.login||!this.credentials.password||!this.hasNetwork}},B(["hasNetwork"])),mounted:function(){document.body.classList.remove("has-navbar-fixed-top")},methods:{login:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==e.credentials.login&&""!==e.credentials.password){t.next=2;break}return t.abrupt("return");case 2:return e.isLoading=!0,t.prev=3,t.next=6,z.login(e.credentials.login,e.credentials.password,e.credentials.remember);case 6:if(void 0===e.$route.query.redirect){t.next=9;break}return e.$router.replace(e.$route.query.redirect),t.abrupt("return");case 9:e.$router.replace({name:"home"}),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),e.$buefy.toast.open({message:t.t0.message,type:"is-danger",position:"is-bottom"});case 15:e.isLoading=!1;case 16:case"end":return t.stop()}}),t,null,[[3,12]])})))()}}},G=F,J=n("2877"),W=Object(J["a"])(G,L,T,!1,null,null,null),Q=W.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero"},[n("div",{staticClass:"hero-head"},[n("breadcrumb",{attrs:{items:[{link:{name:"rooms"},icon:"fa-home",text:"Pièces",isActive:!0}],summary:e.summary}})],1),n("div",{staticClass:"hero-body px-3"},[n("div",{staticClass:"container"},[n("div",{staticClass:"field"},[n("p",{staticClass:"control has-icons-left"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"input",attrs:{type:"text",placeholder:"Rechercher une pièce"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._m(0)])]),n("div",{staticClass:"columns is-multiline"},e._l(e.ordered,(function(e){return n("room-tile",{key:e.id,attrs:{id:e.id}})})),1)])])])},K=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fas fa-search"})])}],X=Object(r["a"])("data"),Z=X.mapState,ee=X.mapGetters,te=X.mapActions;function ne(e,t,n){null!==n.id&&t.push(n);var a=[];return e.forEach((function(e){e.parentId===n.id&&a.push(e)})),a.sort((function(e,t){return e.order-t.order})),a.forEach((function(n){t=ne(e,t,n)})),t}var ae={computed:Object(s["a"])(Object(s["a"])({roomsOrdered:function(){return ne(this.roomsRaw.filter((function(e){return e.isVisible})),[],{id:null})}},Z(["rooms","roomsRaw","tagsList"])),ee(["getRoomVisiblesEquipment"])),methods:Object(s["a"])({},te(["vxLoadRooms"]))},re=n("3d8e"),ie=n("2fbc"),se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"column",staticStyle:{"min-width":"max-content"},attrs:{to:{name:"room",params:{id:e.room.id}}}},[n("div",{staticClass:"notification p-5 is-primary has-text-centered is-fullheight"},[n("span",{staticClass:"subtitle is-block is-inline-mobile mb-0"},[e._v(e._s(e.room.name))]),n("span",{staticClass:"is-size-7"},e._l(e.summary.keys,(function(t){return n("span",{key:t.key,staticClass:"pl-2"},[n("i",{staticClass:"fa fa-fw",class:e.getSummaryIconClass(t.key)}),e._v(e._s(t.value)+e._s(e.getSummaryUnit(t.key)))])})),0)])])},oe=[],ue=Object(r["a"])("data"),ce=ue.mapGetters,le={computed:Object(s["a"])({},ce(["getRoomById","getRoomVisiblesEquipment"]))},me={name:"Room",mixins:[re["a"],le],props:{id:{type:String,required:!0}},computed:{room:function(){return this.getRoomById(this.id)},summary:function(){return this.getRoomSummaryById(this.id)}}},de=me,pe=Object(J["a"])(de,se,oe,!1,null,null,null),fe=pe.exports,he={name:"Rooms",components:{Breadcrumb:ie["a"],RoomTile:fe},mixins:[ae,re["a"]],data:function(){return{search:""}},computed:{ordered:function(){var e=this;return this.roomsOrdered.filter((function(t){return e.getRoomVisiblesEquipment(t.id).length>0&&t.name.toLowerCase().indexOf(e.search.toLowerCase())>-1}))},summary:function(){return this.getRoomSummaryById(0)}}},be=he,ge=Object(J["a"])(be,Y,K,!1,null,null,null),ve=ge.exports,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero"},[n("div",{staticClass:"hero-head"},[n("breadcrumb",{attrs:{items:e.breadcrumbItems,summary:e.summary},on:{"update:items":function(t){e.breadcrumbItems=t}}})],1),n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("ul",e._l(e.equipments,(function(e){return n("li",{key:e},[n("equipment",{attrs:{id:e}})],1)})),0)])])])},we=[],ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"card mb-4"},[n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[e._v(e._s(e.equipment.name)),e.hasRole("admin")?n("router-link",{attrs:{to:{name:"admin-equipment",params:{id:e.equipment.id}},title:"Gérer l'équipement"}},[n("i",{staticClass:"fas ml-2 fa-sm fa-tools has-text-grey-light"})]):e._e()],1),n("aside",{staticClass:"card-header-icon is-size-7-mobile"},[e.equipment.battery?n("span",{class:[e.equipment.hasLowBattery?"has-text-danger":"has-text-grey"]},[n("i",{staticClass:"fa-mr",class:e.getBatteryLevelIconClass(e.equipment.battery)}),e._v(e._s(e.equipment.battery)+"%")]):e._e(),e.equipment.lastCommunication?n("span",{staticClass:"ml-2",class:[e.equipment.hasNoCommunication?"has-text-danger":"has-text-grey"],attrs:{title:e._f("moment")(e.equipment.lastCommunication,"LLLL")}},[n("i",{staticClass:"fa-mr far fa-clock"}),n("time-ago",{attrs:{date:e.equipment.lastCommunication,"drop-fixes":!0}})],1):e._e()])]),e.isEquipmentHandled(e.equipment.module)?n("custom-component",{staticClass:"card-content",attrs:{component:e.getEquipmentComponent(e.equipment.module),equipment:e.equipment}}):n("generic-component",{staticClass:"card-content",attrs:{equipment:e.equipment}})],1)},xe=[],Ie=n("7b8a"),Oe=n("167f"),Re=n("cd32"),Ce=n("647b"),je=window.custom,qe=Object(r["a"])("data"),Se=qe.mapGetters,_e=Object(r["a"])("app"),Ee=_e.mapState,Ve={components:{TimeAgo:Ie["a"],CustomComponent:Oe["default"],GenericComponent:Re["default"]},mixins:[Ce["a"]],props:{id:{type:String,required:!0}},computed:Object(s["a"])(Object(s["a"])({equipment:function(){return this.getEquipmentById(this.id)}},Se(["getEquipmentById"])),Ee(["roles"])),methods:{getEquipmentComponent:function(e){return je.components[e]},isEquipmentHandled:function(e){return void 0!==je.components[e]},hasRole:function(e){return this.roles.includes(e)}}},Ae=Ve,Pe=Object(J["a"])(Ae,ke,xe,!1,null,null,null),$e=Pe.exports,Le={name:"RoomDetail",components:{Breadcrumb:ie["a"],Equipment:$e},mixins:[re["a"],le],props:{id:{type:String,required:!0}},data:function(){return{breadcrumbItems:[]}},computed:{room:function(){return this.getRoomById(this.id)},title:function(){return this.room.name},summary:function(){return this.getRoomSummaryById(this.id)},equipments:function(){return this.getRoomVisiblesEquipment(this.id)}},watch:{title:{handler:function(e){document.title=document.title.replace("Pièce |",e+" |"),this.breadcrumbItems[1].text=e},deep:!0}},created:function(){this.breadcrumbItems=[{link:{name:"rooms"},icon:"fa-home",text:"Pièces"},{link:{name:"rooms",params:{id:this.room.id}},icon:"fa-cube",text:this.room.name,isActive:!0}]}},Te=Le,De=Object(J["a"])(Te,ye,we,!1,null,null,null),Ne=De.exports,Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero"},[n("div",{staticClass:"hero-head"},[n("breadcrumb",{attrs:{items:e.breadcrumbItems},on:{"update:items":function(t){e.breadcrumbItems=t}}})],1),n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("ul",e._l(e.equipments,(function(e){return n("li",{key:e},[n("equipment",{attrs:{id:e}})],1)})),0)])])])},ze=[],Ue=Object(r["a"])("data"),Be=Ue.mapGetters,He={name:"Tag",components:{Breadcrumb:ie["a"],Equipment:$e},props:{tag:{type:String,required:!0}},data:function(){return{breadcrumbItems:[]}},computed:Object(s["a"])(Object(s["a"])({},Be(["getEquipmentsIdByTag"])),{},{equipments:function(){return this.getEquipmentsIdByTag(this.tag)}}),created:function(){document.title=document.title.replace("Tag |",this.tag+" |"),this.breadcrumbItems=[{link:{name:"tag",params:{tag:this.tag}},icon:"fa-tag",text:this.tag,isActive:!0}]}},Fe=He,Ge=Object(J["a"])(Fe,Me,ze,!1,null,null,null),Je=Ge.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"hero"},[n("div",{staticClass:"hero-head"},[n("breadcrumb",{attrs:{items:e.breadcrumbItems},on:{"update:items":function(t){e.breadcrumbItems=t}}})],1),n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container"},[n("ul",e._l(e.userView.cards,(function(t){return n("li",{key:t.title},["equipment"===t.type?n("equipment",{attrs:{id:t.id}}):n("article",{staticClass:"card mb-4"},[n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[e._v(e._s(t.title))]),n("aside",{staticClass:"card-header-icon is-size-7-mobile"},[t.battery?n("span",{class:[t.hasLowBattery?"has-text-danger":"has-text-grey"]},[n("i",{staticClass:"fa-mr",class:e.getBatteryLevelIconClass(t.battery)}),e._v(e._s(t.battery)+"%")]):e._e(),t.lastCommunication?n("span",{staticClass:"ml-2",class:[t.hasNoCommunication?"has-text-danger":"has-text-grey"],attrs:{title:e._f("moment")(t.lastCommunication,"LLLL")}},[n("i",{staticClass:"fa-mr far fa-clock"}),n("time-ago",{attrs:{date:t.lastCommunication,"drop-fixes":!0}})],1):e._e()])]),n("div",{staticClass:"card-content"},e._l(t.elements,(function(t,a){return n("div",{key:a},["state"===t.type?n("info",{key:t.id,attrs:{id:t.id,"equipment-id":t.parentId,label:t.label}}):e._e()],1)})),0)])],1)})),0)])])])},Qe=[],Ye=n("8f33"),Ke=Object(r["a"])("data"),Xe=Ke.mapState,Ze=Ke.mapGetters,et=Ke.mapActions,tt={computed:Object(s["a"])(Object(s["a"])({},Xe(["userViews","userViewsList"])),Ze(["getUserViewByCode"])),methods:Object(s["a"])({},et(["vxRefreshUserViews"]))},nt=Object(r["a"])("data"),at=nt.mapGetters,rt={name:"UserView",components:{Breadcrumb:ie["a"],Equipment:$e,Info:Ye["a"]},mixins:[tt],props:{code:{type:String,required:!0}},computed:Object(s["a"])(Object(s["a"])({},at(["getUserViewByCode"])),{},{userView:function(){return this.getUserViewByCode(this.code)}}),created:function(){document.title=document.title.replace("View |",this.userView.title+" |"),this.breadcrumbItems=[{link:{},icon:"fa-binoculars",text:"Vues",isActive:!0},{link:{name:"view",params:{code:this.code}},icon:this.userView.icon,text:this.userView.title,isActive:!0}]}},it=rt,st=Object(J["a"])(it,We,Qe,!1,null,null,null),ot=st.exports;a["a"].use($["a"]);var ut=window.custom,ct=[{path:"/",name:"home",component:ve,meta:{title:"Home"}},{path:"/rooms",name:"rooms",component:ve,meta:{title:"Pièces"}},{path:"/rooms/:id",name:"room",component:Ne,props:!0,meta:{title:"Pièce"}},{path:"/tags",name:"tags",component:Je,props:!0,meta:{title:"Tag"}},{path:"/tags/:tag",name:"tag",component:Je,props:!0,meta:{title:"Tag"}},{path:"/views",name:"views",component:ot,meta:{title:"Views"}},{path:"/views/:code",name:"view",props:!0,component:ot,meta:{title:"View"}},{path:"/scenarios",name:"scenarios",component:function(){return n.e("Scenarios").then(n.bind(null,"a092"))},meta:{title:"Scénarios"}},{path:"/login",name:"login",component:Q,meta:{title:"Login"}},{path:"/about",name:"about",component:function(){return n.e("About").then(n.bind(null,"84ba"))},meta:{title:"A propos"}},{path:"/profile",name:"profile",component:function(){return n.e("Profile").then(n.bind(null,"66aa"))},meta:{title:"Profil"}},{path:"/notifications",name:"notifications",component:function(){return n.e("Notifications").then(n.bind(null,"e985"))},meta:{title:"Notifications"}},{path:"/admin",name:"admin",component:function(){return n.e("Admin").then(n.bind(null,"d824"))},meta:{title:"Admin"}},{path:"/admin/users",name:"admin-users",component:function(){return n.e("Admin").then(n.bind(null,"76bf"))},meta:{title:"Admin utilisateurs"}},{path:"/admin/users/:id",name:"admin-user",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"a2ae"))},meta:{title:"Admin utilisateur"}},{path:"/admin/rooms",name:"admin-rooms",component:function(){return n.e("Admin").then(n.bind(null,"37f4"))},meta:{title:"Admin pièces"}},{path:"/admin/rooms/:id",name:"admin-room",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"8bdc"))},meta:{title:"Admin pièce"}},{path:"/admin/equipments",name:"admin-equipments",component:function(){return n.e("Admin").then(n.bind(null,"a53a"))},props:function(e){return{search:e.query.search}},meta:{title:"Admin équipements"}},{path:"/admin/equipments/:id",name:"admin-equipment",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"2cca"))},meta:{title:"Admin équipement"}},{path:"/admin/states",name:"admin-states",component:function(){return n.e("Admin").then(n.bind(null,"4428"))},meta:{title:"Admin états"}},{path:"/admin/states/:id",name:"admin-state",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"8526"))},meta:{title:"Admin état"}},{path:"/admin/actions",name:"admin-actions",component:function(){return n.e("Admin").then(n.bind(null,"b448"))},meta:{title:"Admin actions"}},{path:"/admin/actions/:id",name:"admin-action",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"3eb3"))},meta:{title:"Admin action"}},{path:"/admin/system",name:"admin-system",component:function(){return n.e("Admin").then(n.bind(null,"91ff"))},meta:{title:"Admin système"}},{path:"/admin/scenarios",name:"admin-scenarios",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"d2f7"))},meta:{title:"Admin scénarios"}},{path:"/admin/scenarios/:id",name:"admin-scenario",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"5d0d"))},meta:{title:"Admin scénario"}},{path:"/admin/nlp",name:"admin-nlp",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"95a3"))},meta:{title:"Admin traitement automatique du langage naturel"}},{path:"/admin/intents/:id",name:"admin-intent",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"f341"))},meta:{title:"Admin intention"}},{path:"/admin/entities/:id",name:"admin-entity",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"9573"))},meta:{title:"Admin entité"}},{path:"/admin/channels",name:"admin-channels",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"6770"))},meta:{title:"Admin canaux de communication"}},{path:"/admin/channels/:id",name:"admin-channel",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"41eb"))},meta:{title:"Admin canal de communication"}},{path:"/admin/views",name:"admin-views",component:function(){return n.e("Admin").then(n.bind(null,"ddce"))},meta:{title:"Admin vues utilisateur"}},{path:"/admin/views/:id",name:"admin-view",props:!0,component:function(){return n.e("Admin").then(n.bind(null,"9481"))},meta:{title:"Admin vue utilisateur"}}],lt=new $["a"]({routes:ct});lt.beforeEach((function(e,t,n){if(V.state.app.isAuthenticated||"login"===e.name)if(V.state.app.isAuthenticated&&"login"===e.name)n({name:"home",replace:!0});else{if(e.meta.title){var a=e.meta.title,r=e.params;for(var i in r)a=a.replace(":"+i,r[i]);document.title=a+" | "+ut.title}V.state.app.hasSidebarOpened&&V.commit("app/setSidebarStatus",!1),n()}else n({name:"login",query:{redirect:e.fullPath},replace:!0})}));var mt=lt,dt=(n("fb6a"),n("c1df")),pt=n.n(dt),ft=n("5e93"),ht=n("6e24"),bt=n("b897"),gt=n("ff69"),vt=n("aced"),yt=n("39ea"),wt=n("7155"),kt=n("0b7e"),xt=n("7f82"),It=n("c2ad"),Ot=n("9f6f"),Rt=n("283c"),Ct=n("f723"),jt=n("ba4e"),qt=n("7584"),St=n("d410"),_t={install:function(e){ft["a"].setOptions({defaultIconPack:"fas",defaultDayNames:pt.a.weekdaysMin(),defaultMonthNames:pt.a.months().map((function(e){return e[0].toUpperCase()+e.slice(1)})),defaultFirstDayOfWeek:1}),e.use(ht["a"]),e.use(bt["a"]),e.use(gt["a"]),e.use(vt["a"]),e.use(yt["a"]),e.use(wt["a"]),e.use(kt["a"]),e.use(xt["a"]),e.use(It["a"]),e.use(Ot["a"]),e.use(Rt["a"]),e.use(Ct["a"]),e.use(jt["a"]),e.use(qt["a"]),e.use(St["a"])}},Et=_t,Vt=n("2ead"),At=n.n(Vt),Pt=(n("9f26"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isAuthenticated?n("navbar"):e._e(),e.isAuthenticated?n("sidebar"):e._e(),e.isReady?n("router-view",{key:e.$route.fullPath}):e._e()],1)}),$t=[],Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar is-dark is-fixed-top"},[a("div",{staticClass:"navbar-brand"},[a("a",{staticClass:"navbar-item",attrs:{href:"#"},on:{click:e.openSidebar}},[a("img",{staticClass:"fa-mr",attrs:{src:n("fbf5")}}),a("span",{staticClass:"is-hidden-mobile"},[e._v(e._s(e.title))])]),a("div",{staticClass:"navbar-item is-hidden-desktop sync-mobile"},[a("sync")],1)]),a("div",{staticClass:"navbar-menu",attrs:{id:"navbar-menu"}},[a("div",{staticClass:"navbar-start"},[a("router-link",{staticClass:"navbar-item",attrs:{to:{name:"rooms"},title:"Pièces"}},[a("i",{staticClass:"fa fa-home fa-fw fa-mr"}),a("span",{staticClass:"is-navbar-label"},[e._v("Pièces")])]),e.userViewsList.length?a("div",{staticClass:"navbar-item has-dropdown",class:{"is-active":e.hasDropdownViewsDisplayed},on:{click:function(t){e.hasDropdownViewsDisplayed=!e.hasDropdownViewsDisplayed}}},[a("router-link",{staticClass:"navbar-link is-arrowless",attrs:{to:{name:"views"},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.href,r=t.isActive;return[a("a",{class:{"router-link-active":r},attrs:{href:n},on:{click:function(e){e.preventDefault()}}},[a("i",{staticClass:"fa fa-binoculars fa-fw fa-mr"}),a("span",{staticClass:"is-navbar-label"},[e._v("Vues")])])]}}],null,!1,4048161072)}),a("div",{staticClass:"navbar-dropdown"},e._l(e.userViewsList,(function(t){return a("router-link",{key:t.code,staticClass:"navbar-item",attrs:{to:{name:"view",params:{code:t.code}}}},[a("span",[e._v(e._s(t.title))])])})),1)],1):e._e(),a("router-link",{staticClass:"navbar-item",attrs:{to:{name:"scenarios"},title:"Scénarios"}},[a("i",{staticClass:"fa fa-book fa-fw fa-mr"}),a("span",{staticClass:"is-navbar-label"},[e._v("Scénarios")])]),e.tagsList.length?a("div",{staticClass:"navbar-item has-dropdown",class:{"is-active":e.hasDropdownTagsDisplayed},on:{click:function(t){e.hasDropdownTagsDisplayed=!e.hasDropdownTagsDisplayed}}},[a("router-link",{staticClass:"navbar-link is-arrowless",attrs:{to:{name:"tags"},custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.href,r=t.isActive;return[a("a",{class:{"router-link-active":r},attrs:{href:n},on:{click:function(e){e.preventDefault()}}},[a("i",{staticClass:"fa fa-tags fa-fw fa-mr"}),a("span",{staticClass:"is-navbar-label"},[e._v("Catégories")])])]}}],null,!1,880165390)}),a("div",{staticClass:"navbar-dropdown"},e._l(e.tagsList,(function(t){return a("router-link",{key:t,staticClass:"navbar-item",attrs:{to:{name:"tag",params:{tag:t}}}},[a("span",[e._v(e._s(t))])])})),1)],1):e._e(),e.hasRole("admin")?a("router-link",{staticClass:"navbar-item",attrs:{to:{name:"admin"},title:"Admin"}},[a("i",{staticClass:"fa fa-tools fa-fw fa-mr"}),a("span",{staticClass:"is-navbar-label"},[e._v("Admin")])]):e._e()],1),a("div",{staticClass:"navbar-end is-flex-center"},[a("notifications-counter",{attrs:{"class-name":"navbar-item","is-link":!0}}),a("query"),a("div",{staticClass:"navbar-item sync-tablet"},[a("sync")],1)],1)])])},Tt=[],Dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hasNetwork?e.hasEventsListenerOpen?n("a",{staticClass:"fa-stack",attrs:{title:"Connecté, cliquer pour déconnecter",href:"#"},on:{click:e.closeEventsListener}},[n("i",{staticClass:"fa fa-exchange-alt fa-stack-1x has-text-primary"})]):n("a",{staticClass:"fa-stack",attrs:{title:"Déconnecté, cliquer pour reconnecter",href:"#"},on:{click:e.openEventsListener}},[n("i",{staticClass:"fa fa-exchange-alt fa-stack-1x has-text-primary"}),n("i",{staticClass:"fa fa-ban fa-stack-2x has-text-danger"})]):n("span",{staticClass:"fa-stack",attrs:{title:"Hors connexion (réseau)"}},[n("i",{staticClass:"fa fa-wifi fa-stack-1x has-text-primary"}),n("i",{staticClass:"fa fa-ban fa-stack-2x has-text-danger"})])},Nt=[],Mt=Object(r["a"])("app"),zt=Mt.mapState,Ut={name:"Sync",computed:Object(s["a"])({},zt(["hasEventsListenerOpen","hasNetwork"])),methods:{openEventsListener:function(e){e.preventDefault(),this.$Provider.openEventsListener(!0,!0)},closeEventsListener:function(e){e.preventDefault(),this.$Provider.closeEventsListener()}}},Bt=Ut,Ht=Object(J["a"])(Bt,Dt,Nt,!1,null,null,null),Ft=Ht.exports,Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"is-auto-expand",class:{"is-expanded":e.isExpanded}},[n("b-autocomplete",{attrs:{id:"question",data:e.filteredSentences,placeholder:"Quelle est la température ?",icon:"comments",title:"Poser une question",readonly:e.isLoading,disabled:e.isLoading,loading:e.isLoading},on:{focus:function(t){e.isExpanded=!0},select:function(t){return e.ask(t)}},nativeOn:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.ask()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.clear()}]},model:{value:e.question,callback:function(t){e.question=t},expression:"question"}},[n("template",{slot:"empty"},[e._v("Aucune correspondance")])],2),e.isExpanded&&!e.isLoading?n("button",{staticClass:"delete is-medium",attrs:{title:"Fermer"},on:{click:function(t){return e.clear()}}}):e._e()],1)},Jt=[],Wt={name:"Query",data:function(){return{question:"",sentences:[],isExpanded:!1,isLoading:!1}},computed:{filteredSentences:function(){var e=this;return this.sentences.filter((function(t){return t.indexOf(e.question.toLowerCase())>-1}))}},mounted:function(){this.getSentences()},methods:{clear:function(e){document.getElementById("question").blur(),this.question="",this.isExpanded=!1},ask:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.isLoading){n.next=2;break}return n.abrupt("return");case 2:if(e&&(t.question=e),""!==t.question){n.next=6;break}return t.clear(),n.abrupt("return");case 6:return t.isLoading=!0,n.prev=7,n.next=10,t.$Provider.askQuestion(t.question);case 10:a=n.sent,t.clear(),t.$store.commit("app/setInformation",{type:"is-dark",message:a,position:"is-bottom",duration:5e3}),n.next=18;break;case 15:n.prev=15,n.t0=n["catch"](7),t.$store.commit("app/setInformation",{type:"is-danger",message:n.t0.message});case 18:t.isLoading=!1;case 19:case"end":return n.stop()}}),n,null,[[7,15]])})))()},getSentences:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$Provider.getSentences();case 3:e.sentences=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),e.$store.commit("app/setInformation",{type:"is-danger",message:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()}}},Qt=Wt,Yt=Object(J["a"])(Qt,Gt,Jt,!1,null,null,null),Kt=Yt.exports,Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.count>0?n("div",{class:e.className},[e.isLink?n("router-link",{staticClass:"tag is-danger is-normal is-rounded notification-counter",attrs:{to:{name:"notifications"},title:"Voir les notifications"}},[e._v(e._s(e.count))]):n("span",{staticClass:"tag is-danger is-normal is-rounded notification-counter"},[e._v(e._s(e.count))])],1):e._e()},Zt=[],en=Object(r["a"])("data"),tn=en.mapGetters,nn={name:"NotificationsCounter",props:{className:{type:String,default:""},isLink:{type:Boolean,default:!1}},computed:Object(s["a"])(Object(s["a"])({},tn(["getNotificationsCount"])),{},{count:function(){return this.getNotificationsCount()}})},an=nn,rn=Object(J["a"])(an,Xt,Zt,!1,null,null,null),sn=rn.exports,on=Object(r["a"])("app"),un=on.mapState,cn=on.mapMutations,ln=window.custom,mn={name:"Navbar",components:{Sync:Ft,Query:Kt,NotificationsCounter:sn},mixins:[ae,tt],data:function(){return{title:ln.title,hasDropdownTagsDisplayed:!1,hasDropdownViewsDisplayed:!1}},computed:Object(s["a"])({},un(["roles"])),watch:{$route:function(e,t){"tag"!==e.name&&(this.hasDropdownTagsDisplayed=!1),"view"!==e.name&&(this.hasDropdownViewsDisplayed=!1)}},mounted:function(){document.body.classList.add("has-navbar-fixed-top")},methods:Object(s["a"])({openSidebar:function(e){e.preventDefault(),this.setSidebarStatus(!0)},hasRole:function(e){return this.roles.includes(e)}},cn(["setSidebarStatus"]))},dn=mn,pn=Object(J["a"])(dn,Lt,Tt,!1,null,null,null),fn=pn.exports,hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-sidebar",{attrs:{type:"is-light",fullheight:!0,overlay:!0},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("aside",{staticClass:"p-4"},[a("div",{staticClass:"mb-5 is-flex-center"},[a("img",{attrs:{src:n("fbf5")}}),a("h1",{staticClass:"subtitle ml-3"},[e._v(e._s(e.title))])]),a("b-menu",[a("b-menu-list",{attrs:{label:"Navigation"}},[a("b-menu-item",{attrs:{icon:"home fa-fw fa-mr"},scopedSlots:e._u([{key:"label",fn:function(t){return[e._v(" Pièces "),a("i",{staticClass:"is-pulled-right fa",class:t.expanded?"fa-caret-down":"fa-caret-up"})]}}])},[a("b-menu-item",{attrs:{to:{name:"rooms"},label:"Tous",tag:"router-link"}}),e._l(e.ordered,(function(e){return a("b-menu-item",{key:e.id,attrs:{to:{name:"room",params:{id:e.id}},label:e.name,tag:"router-link"}})}))],2),e.userViewsList.length?a("b-menu-item",{attrs:{icon:"binoculars fa-fw fa-mr"},scopedSlots:e._u([{key:"label",fn:function(t){return[e._v(" Vues "),a("i",{staticClass:"is-pulled-right fa",class:t.expanded?"fa-caret-down":"fa-caret-up"})]}}],null,!1,1337031078)},e._l(e.userViewsList,(function(e){return a("b-menu-item",{key:e.code,attrs:{to:{name:"view",params:{code:e.code}},label:e.title,tag:"router-link"}})})),1):e._e(),e.tagsList.length?a("b-menu-item",{attrs:{icon:"tags fa-fw fa-mr"},scopedSlots:e._u([{key:"label",fn:function(t){return[e._v(" Catégories "),a("i",{staticClass:"is-pulled-right fa",class:t.expanded?"fa-caret-down":"fa-caret-up"})]}}],null,!1,1701464297)},e._l(e.tagsList,(function(e){return a("b-menu-item",{key:e,attrs:{to:{name:"tag",params:{tag:e}},label:e,tag:"router-link"}})})),1):e._e(),a("b-menu-item",{attrs:{icon:"book fa-fw fa-mr",to:{name:"scenarios"},tag:"router-link"}},[a("template",{slot:"label"},[e._v(" Scénarios ")])],2),a("b-menu-item",{attrs:{icon:"info-circle fa-fw fa-mr",tag:"router-link",to:{name:"about"}}},[a("template",{slot:"label"},[e._v(" A propos ")])],2),a("b-menu-item",{attrs:{icon:"bug fa-fw fa-mr",tag:"a",href:e.bugUrl,target:"_blank",rel:"noreferrer"}},[a("template",{slot:"label"},[e._v(" Bug ")])],2),a("b-menu-item",{attrs:{icon:"bell fa-fw fa-mr",tag:"router-link",to:{name:"notifications"}}},[a("template",{slot:"label"},[e._v(" Notifications "),a("notifications-counter",{attrs:{"class-name":"is-inline ml-2","is-link":!1}})],1)],2),e.hasRole("user")?a("b-menu-item",{attrs:{icon:"user fa-fw fa-mr",tag:"router-link",to:{name:"profile"}}},[a("template",{slot:"label"},[e._v(" Profile ")])],2):e._e(),e.hasRole("admin")?a("b-menu-item",{attrs:{icon:"tools fa-fw fa-mr"},scopedSlots:e._u([{key:"label",fn:function(t){return[e._v(" Admin "),a("i",{staticClass:"is-pulled-right fa",class:t.expanded?"fa-caret-down":"fa-caret-up"})]}}],null,!1,2639950556)},[a("b-menu-item",{attrs:{to:{name:"admin-system"},label:"Système",tag:"router-link"}}),a("b-menu-item",{attrs:{to:{name:"admin-users"},label:"Utilisateurs",tag:"router-link"}}),a("b-menu-item",{attrs:{to:{name:"admin-rooms"},label:"Pièces",tag:"router-link"}}),a("b-menu-item",{attrs:{to:{name:"admin-equipments"},label:"Équipement",tag:"router-link"}}),a("b-menu-item",{attrs:{to:{name:"admin-states"},label:"États",tag:"router-link"}}),a("b-menu-item",{attrs:{to:{name:"admin-actions"},label:"Actions",tag:"router-link"}}),a("b-menu-item",{attrs:{to:{name:"admin-scenarios"},label:"Scénarios",tag:"router-link"}}),a("b-menu-item",{attrs:{to:{name:"admin-nlp"},label:"Traitement automatique du langage naturel",tag:"router-link"}}),a("b-menu-item",{attrs:{to:{name:"admin-channels"},label:"Canaux de communication",tag:"router-link"}})],1):e._e()],1),a("b-menu-list",{attrs:{label:"Actions"}},[a("b-menu-item",{attrs:{icon:"sync-alt fa-fw fa-mr",tag:"a"},on:{click:e.refreshData}},[a("template",{slot:"label"},[e._v(" Rafraichir les données ")])],2),a("b-menu-item",{attrs:{icon:"sign-out-alt fa-fw fa-mr",tag:"a"},on:{click:e.logout}},[a("template",{slot:"label"},[e._v(" Logout ")])],2),a("b-menu-item",{attrs:{icon:e.isDarkMode?"toggle-on fa-fw fa-mr":"toggle-off fa-fw fa-mr",tag:"a"},on:{click:e.setDarkMode}},[a("template",{slot:"label"},[e._v(" Mode sombre ")])],2),a("b-menu-item",{attrs:{"icon-pack":e.isHomepage?"fas":"far",icon:e.isHomepage?"ban fa-fw fa-mr":"bookmark fa-fw fa-mr",tag:"a"},on:{click:e.setHomepage}},[a("template",{slot:"label"},[e._v(" Page par défaut ")])],2)],1)],1)],1)])},bn=[],gn=n("9224"),vn=Object(r["a"])("app"),yn=vn.mapState,wn=vn.mapMutations,kn=window.custom,xn={name:"Sidebar",components:{NotificationsCounter:sn},mixins:[ae,tt],data:function(){return{title:kn.title,bugUrl:gn["a"].url,isDarkMode:!1,isHomepage:!1}},computed:Object(s["a"])({open:{get:function(){return this.hasSidebarOpened},set:function(e){this.setSidebarStatus(e)}},ordered:function(){var e=this;return this.roomsOrdered.filter((function(t){return e.getRoomVisiblesEquipment(t.id).length>0}))}},yn(["hasSidebarOpened","roles"])),created:function(){localStorage.getItem("darkMode")&&(this.isDarkMode=!0),localStorage.getItem("homepage")===this.$route.fullPath&&(this.isHomepage=!0)},methods:Object(s["a"])({hasRole:function(e){return this.roles.includes(e)},refreshData:function(){this.vxLoadRooms(),this.open=!1},setDarkMode:function(){this.isDarkMode=!this.isDarkMode,this.isDarkMode?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("darkMode","1")):(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("darkMode")),this.open=!1},setHomepage:function(){this.isHomepage?(localStorage.removeItem("homepage"),this.isHomepage=!1):(localStorage.setItem("homepage",this.$route.fullPath),this.isHomepage=!0),this.open=!1},logout:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$Provider.closeEventsListener(),t.next=3,z.logout();case 3:e.$router.replace({name:"login"});case 4:case"end":return t.stop()}}),t)})))()}},wn(["setSidebarStatus"]))},In=xn,On=Object(J["a"])(In,hn,bn,!1,null,null,null),Rn=On.exports,Cn=Object(r["a"])("app"),jn=Cn.mapState,qn=Cn.mapMutations,Sn=Object(r["a"])("data"),_n=Sn.mapActions,En={components:{Navbar:fn,Sidebar:Rn},data:function(){return{isReady:!1,refreshing:!1,registration:null}},computed:Object(s["a"])({},jn(["isAuthenticated","information"])),watch:{isAuthenticated:function(){this.isAuthenticated?(this.vxLoadRooms(),this.vxRefreshUserViews()):this.$router.push({name:"login",query:{redirect:this.$route.fullPath},replace:!0}),this.openEventsListener()},information:function(e){if(e.message){var t={message:e.message,type:e.type};e.position&&(t.position=e.position),e.duration&&(t.duration=e.duration),this.$buefy.toast.open(t)}}},created:function(){var e=this,t=localStorage.getItem("homepage");"home"===this.$route.name&&t&&t!==this.$route.fullPath&&this.$router.replace(t),localStorage.getItem("darkMode")?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.removeAttribute("data-theme"),document.addEventListener("updated",this.askForRefresh,{once:!0}),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",(function(){e.refreshing||(e.refreshing=!0,window.location.reload())})),this.isAuthenticated&&(this.vxLoadRooms(),this.vxRefreshUserViews()),this.setNetworkStatus(window.navigator.onLine),window.addEventListener("offline",this.notifyConnectivity),window.addEventListener("online",this.notifyConnectivity),this.openEventsListener(),this.isReady=!0},methods:Object(s["a"])(Object(s["a"])({askForRefresh:function(e){var t=this;this.registration=e.detail,this.$buefy.dialog.confirm({title:"Mise à jour",message:"Une mise à jour a été téléchargée, souhaitez-vous recharger l'application ?",cancelText:"Plus tard",hasIcon:!0,icon:"sync-alt",iconPack:"fa",onConfirm:function(){return t.refreshApp()}})},refreshApp:function(){this.registration&&this.registration.waiting&&this.registration.waiting.postMessage("skipWaiting")},notifyConnectivity:function(e){this.setNetworkStatus(window.navigator.onLine),"online"===e.type&&this.openEventsListener()},openEventsListener:function(){this.isAuthenticated&&this.$Provider.openEventsListener(!0,!1)}},_n(["vxLoadRooms","vxRefreshUserViews"])),qn(["setNetworkStatus"]))},Vn=En,An=Object(J["a"])(Vn,Pt,$t,!1,null,null,null),Pn=An.exports,$n=(n("b2a2"),n("8890"),n("6755"),n("2d4f"),n("2fc4"),n("9483"));Object($n["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; ask for refreshing."),document.dispatchEvent(new CustomEvent("updated",{detail:e}))},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),a["a"].use(At.a,{moment:pt.a}),a["a"].use(P,{store:V}),a["a"].use(Et),a["a"].config.productionTip=!1,a["a"].config.performance=!1,z.restoreUser().then((function(){new a["a"]({store:V,router:mt,render:function(e){return e(Pn)}}).$mount("#vue-dom")}))},"647b":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("1da1"),r=n("5530"),i=(n("96cf"),n("e9c4"),n("d3b7"),n("b0c0"),n("2f62")),s=Object(i["a"])("data"),o=s.mapGetters,u=s.mapActions,c={computed:Object(r["a"])({},o(["getStateById","getActionById","getStatesByEquipmentId","getActionsByEquipmentId","getStatesByIds","getActionsByIds","getStateStatisticsById"])),methods:Object(r["a"])({getBatteryLevelIconClass:function(e){var t="fa fa-battery-full";return e<20?t="fa fa-battery-empty":e<40?t="fa fa-battery-quarter":e<60?t="fa fa-battery-half":e<80&&(t="fa fa-battery-three-quarters"),t},getIconClass:function(e){switch(e.logicalId){case"refresh":return"fa fa-sync-alt";case"wol":return"fa fa-bolt"}if(e.genericType)switch(e.genericType){case"HUMIDITY":case"RAIN_CURRENT":return"fa fa-tint";case"TEMPERATURE":var t=e.minValue||0,n=e.maxValue||100,a=(n-t)/5;return e.currentValue<t+a?"fa fa-thermometer-empty":e.currentValue<t+2*a?"fa fa-thermometer-quarter":e.currentValue<t+3*a?"fa fa-thermometer-half":e.currentValue<t+4*a?"fa fa-thermometer-three-quarters":"fa fa-thermometer-full";case"LIGHT_STATE":return"fas fa-lightbulb";case"CO2":return"fa fa-bullseye";case"PRESENCE":return"fas fa-eye";case"WIND_DIRECTION":return"far fa-compass";case"WIND_SPEED":return"fas fa-wind";case"VOLTAGE":case"POWER":return"fa fa-bolt";case"CAMERA_RECORD_STATE":return"fas fa-video";case"ENERGY_STATE":return"fas fa-power-off";case"IP_ADDRESS":return"fas fa-at";case"STATUS":return"fas fa-toggle-on";case"DOWNLOAD":return"fas fa-arrow-down";case"UPLOAD":return"fas fa-arrow-up";case"SIGNAL_QUALITY":return"fas fa-signal";case"RATE":return"fas fa-tachometer-alt";case"WIFI":return"fas fa-wifi";case"MAP":return"fas fa-sitemap";case"CONNECTION_TYPE":return"fas fa-project-diagram"}return e.icon?e.icon:"fa fa-question"},getFormattedStateCurrentValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=e.currentValue;return"object"===e.type&&n&&(n=JSON.stringify(n)),n&&n.length>t&&(n=n.substring(0,t)+"…"),n},checkConfirmAndExecuteAction:function(e,t){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.needsConfirm){a.next=2;break}return a.abrupt("return",new Promise((function(a,r){n.$buefy.dialog.confirm({type:"is-primary",title:"Confirmation du lancement d'action",message:"Confirmez-vous l'exécution de l'action \"".concat(e.name,'" ?'),hasIcon:!0,icon:"cogs",iconPack:"fa",confirmText:"Oui",cancelText:"Annuler",onConfirm:function(){t.options||(t.options={}),t.options.isConfirmed=!0,n.vxExecuteAction(t),a(!0)},onCancel:function(){return a(!1)}})})));case 2:return n.vxExecuteAction(t),a.abrupt("return",!0);case 4:case"end":return a.stop()}}),a)})))()}},u(["vxExecuteAction","vxLoadStateStatistics"]))}},"68f1":function(e,t,n){},"7b8a":function(e,t,n){"use strict";n("a9e3");var a,r,i={name:"TimeAgo",props:{date:{type:String,required:!0},tag:{type:String,default:"span"},dropFixes:{type:Boolean,default:!1},interval:{type:Number,default:3e4}},data:function(){return{fromNow:this.$moment(this.date).fromNow(this.dropFixes),intervalId:null}},watch:{date:function(){this.updateFromNow()}},mounted:function(){this.intervalId=setInterval(this.updateFromNow,this.interval)},beforeDestroy:function(){clearInterval(this.intervalId)},methods:{updateFromNow:function(){var e=this.$moment(this.date).fromNow(this.dropFixes);e!==this.fromNow&&(this.fromNow=e)}},render:function(e){return e(this.tag,{style:"white-space: nowrap;"},this.fromNow)}},s=i,o=n("2877"),u=Object(o["a"])(s,a,r,!1,null,null,null);t["a"]=u.exports},"8f33":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"is-flex-space-between mb-2"},[n("span",{staticClass:"is-flex is-align-items-center"},[n("i",{staticClass:"fa-fw mr-4",class:e.iconClass}),n("span",{staticClass:"info-label"},[e._v(e._s(e.label||e.state.name))]),e.state.isHistorized?n("a",{staticClass:"ml-2 has-text-grey-light",attrs:{title:"Voir l'historique"},on:{click:function(t){e.hasHistoryDisplayed=!0}}},[n("i",{staticClass:"fa fa-fw fa-chart-area"})]):e._e()]),"boolean"===e.state.type?n("b-switch",{staticClass:"mr-0",attrs:{disabled:!e.action,title:e.state.name,"left-label":!0},on:{input:e.action},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):"numeric"===e.state.type&&e.action?n("b-slider",{staticClass:"ml-5 my-2",attrs:{lazy:"",title:e.state.name,min:e.action.minValue,max:e.action.maxValue,tooltip:!1,indicator:"",rounded:""},on:{change:e.action.f},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e.datetimeFormattedValue?n("span",{staticClass:"is-flex-space-between"},[n("span",{staticClass:"has-text-weight-semi-bold info-value",class:{"has-text-danger":e.state.isTooHigh||e.state.isTooLow}},[e._v(e._s(e.datetimeFormattedValue))])]):"string"===e.state.type&&e.action?n("div",{staticClass:"select ml-5",attrs:{lazy:"",title:e.state.name}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.value=t.target.multiple?n:n[0]},e.action]}},e._l(e.actionOptions,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label||t.value))])})),0)]):n("span",{staticClass:"is-flex-space-between"},[e.statistics?n("ul",{staticClass:"has-text-grey-light is-size-7 has-text-weight-light"},[n("li",{staticClass:"statistics-item"},[n("span",{staticClass:"statistics-item-min",attrs:{title:"Min"}},[e._v(e._s(e.statistics.min))])]),n("li",{staticClass:"statistics-item"},[n("span",{staticClass:"statistics-item-mean",attrs:{title:"Moyenne"}},[e._v(e._s(e.statistics.avg))])]),n("li",{staticClass:"statistics-item"},[n("span",{staticClass:"statistics-item-max",attrs:{title:"Max"}},[e._v(e._s(e.statistics.max))])])]):e._e(),e.statistics&&null!==e.statistics.trend?n("i",{staticClass:"fas fa-long-arrow-alt-right has-text-grey-light mx-2",class:e.trendClass}):e._e(),"WIND_DIRECTION"===e.state.genericType?n("i",{staticClass:"fa fa-location-arrow mr-2",style:"transform: rotate("+(135+parseInt(e.state.currentValue))+"deg);"}):e._e(),n("span",{staticClass:"has-text-weight-semi-bold info-value",class:{"has-text-danger":e.state.isTooHigh||e.state.isTooLow}},[e._v(e._s(e.state.currentValue)+e._s(e.unit))])])],1),e.hasHistoryDisplayed?n("div",{staticClass:"message is-light"},[n("div",{staticClass:"message-header is-size-7"},[e._v(" Historique "),n("button",{staticClass:"delete",attrs:{title:"Fermer"},on:{click:function(t){e.hasHistoryDisplayed=!1}}})]),n("div",{staticClass:"message-body mb-3 p-2"},[n("history",{attrs:{id:e.state.id,name:e.state.name,"has-steps":"boolean"===e.state.type}})],1)]):e._e()])},r=[],i=n("1da1"),s=(n("96cf"),n("7db0"),n("d3b7"),n("647b")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"field is-horizontal"},[n("div",{staticClass:"field-body"},[n("div",{staticClass:"field is-narrow",attrs:{title:"Durée d'historique"}},[n("div",{staticClass:"control has-icons-left"},[n("div",{staticClass:"select is-small"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.duration,expression:"duration"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.duration=t.target.multiple?n:n[0]},e.updateDates]}},[n("option",{attrs:{value:"PT1H"}},[e._v("1 heure")]),n("option",{attrs:{value:"PT6H"}},[e._v("6 heures")]),n("option",{attrs:{value:"PT24H"}},[e._v("24 heures")]),n("option",{attrs:{value:"P7D"}},[e._v("7 jours")]),n("option",{attrs:{value:"P30D"}},[e._v("30 jours")]),n("option",{domProps:{value:null}},[e._v("Personnalisé")])]),e._m(0)])])]),null===e.duration?n("div",{staticClass:"field",attrs:{title:"Date de début"}},[n("b-datetimepicker",{attrs:{"max-datetime":e.today,size:"is-small"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1):e._e(),null===e.duration?n("div",{staticClass:"field",attrs:{title:"Date de fin"}},[n("b-datetimepicker",{attrs:{"max-datetime":e.today,size:"is-small"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1):e._e(),n("div",{staticClass:"field"},[n("button",{staticClass:"button is-primary is-rounded is-small",on:{click:e.getHistory}},[e._m(1),n("span",[e._v("Rafraichir")])])])])]),e.loaded?n("chart",{attrs:{"chart-data":e.history}}):e._e()],1)},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon is-small is-left"},[n("i",{staticClass:"fas fa-history"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"icon"},[n("i",{staticClass:"fa fa-sync-alt"})])}],c=(n("b0c0"),n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("canvas",{ref:"canvas",attrs:{width:e.width,height:e.height}})])}),l=[],m=(n("a9e3"),n("9b4a"));n("1c86");m["a"].register(m["d"],m["f"],m["c"],m["e"],m["g"],m["h"],m["b"]);var d={name:"Chart",props:{chartData:{type:Object,required:!0},options:{type:Object,required:!1,default:function(){return{plugins:{legend:{display:!1}},maintainAspectRatio:!1,spanGaps:!1,elements:{line:{fill:!0,tension:0,backgroundColor:"rgba(150, 201, 39, 0.5)",borderColor:"rgb(150, 201, 39)"},point:{backgroundColor:"rgba(150, 201, 39, 0.8)",radius:2}},scales:{x:{type:"time",time:{tooltipFormat:"llll",displayFormats:{second:"LTS",minute:"LT",hour:"LT",day:"DD/MM"}}}}}}},width:{type:Number,default:400},height:{type:Number,default:400}},data:function(){return{chart:null}},watch:{chartData:function(){this.render()}},mounted:function(){this.render()},beforeDestroy:function(){this.chart&&this.chart.destroy()},methods:{render:function(){var e=this.$refs.canvas.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new m["a"](e,{type:"line",data:this.chartData,options:this.options})}}},p=d,f=n("2877"),h=Object(f["a"])(p,c,l,!1,null,null,null),b=h.exports,g={components:{Chart:b},props:{id:{type:String,required:!0},name:{type:String,required:!0},hasSteps:{type:Boolean,default:!1}},data:function(){return{startDate:null,endDate:null,duration:"PT24H",history:null,loaded:!1}},computed:{today:function(){return new Date}},created:function(){this.endDate=new Date,this.startDate=new Date(this.endDate.getTime()-864e5),this.getHistory()},methods:{getHistory:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$Provider.getHistory(e.id,e.startDate,e.endDate);case 2:n=t.sent,e.history={datasets:[{label:e.name,data:n.map((function(e){return e.value})),steppedLine:e.hasSteps}],labels:n.map((function(e){return e.date}))},e.loaded=!0;case 5:case"end":return t.stop()}}),t)})))()},updateDates:function(){null!==this.duration&&(this.startDate=this.$moment().subtract(this.$moment.duration(this.duration)).toDate(),this.getHistory())}}},v=g,y=Object(f["a"])(v,o,u,!1,null,null,null),w=y.exports,k={components:{History:w},mixins:[s["a"]],props:{id:{type:String,required:!0},equipmentId:{type:String,required:!0},label:{type:String,default:null}},data:function(){return{hasHistoryDisplayed:!1}},computed:{state:function(){return this.getStateById(this.id)},value:{get:function(){return this.state.currentValue},set:function(){}},iconClass:function(){return this.getIconClass(this.state)},unit:function(){return this.state.unit?" "+this.state.unit:""},datetimeFormattedValue:function(){switch(this.state.type){case"datetime":return this.$moment(this.state.currentValue).format("LLL");case"date":return this.$moment(this.state.currentValue).format("LL");case"time":return this.$moment(this.state.currentValue).format("LT");case"duration":try{if("P0D"===this.state.currentValue)return"nulle";for(var e=this.$moment.duration(this.state.currentValue),t="",n=["y","M","d","h","m","s"],a={M:30,d:7,h:24,m:60,s:60},r=0;r<n.length;r++){var i=n[r],s=e.get(i);if(0!==s){if(t=this.$moment.duration(s,i).humanize(a),r<n.length){var o=n[r+1],u=e.get(o);0!==u&&(t+=" ".concat(this.$moment.duration(u,o).humanize(a)))}break}}return t}catch(c){return console.log(c),this.state.currentValue}default:return null}},action:function(){var e=this,t=this.getActionsByEquipmentId(this.equipmentId),n=t.find((function(t){return t.stateFeedbackId===e.state.id&&"switch_on"===t.type})),a=t.find((function(t){return t.stateFeedbackId===e.state.id&&"switch_off"===t.type})),r=t.find((function(t){return t.stateFeedbackId===e.state.id&&"switch"===t.type})),s=t.find((function(t){return t.stateFeedbackId===e.state.id&&"select"===t.type})),o=t.find((function(t){return t.stateFeedbackId===e.state.id&&"slider"===t.type}));if(n&&a||r||s||o){var u=this;if(r)return function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u.vxExecuteAction({id:r.id,options:{value:t}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(s)return function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u.vxExecuteAction({id:s.id,options:{select:t.target.value}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(o){var c=this.getActionById(o.id);return{minValue:c.minValue,maxValue:c.maxValue,f:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u.vxExecuteAction({id:o.id,options:{slider:t}});case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}}return function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t?n.id:a.id,u.vxExecuteAction({id:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},actionOptions:function(){var e=this,t=this.getActionsByEquipmentId(this.equipmentId),n=t.find((function(t){return t.stateFeedbackId===e.state.id&&"select"===t.type}));return n&&n.options?n.options:[]},statistics:function(){return this.getStateStatisticsById(this.id)},trendClass:function(){var e="";switch(this.statistics.trend){case-2:e="trend-down-strong";break;case-1:e="trend-down";break;case 1:e="trend-up";break;case 2:e="trend-up-strong";break}return e}},created:function(){this.state.isHistorized&&"numeric"===this.state.type&&this.vxLoadStateStatistics(this.state.id)}},x=k,I=(n("07fc"),Object(f["a"])(x,a,r,!1,null,null,null));t["a"]=I.exports},9224:function(e){e.exports=JSON.parse('{"d":"0.7.0","b":"https://github.com/nioc/vue-dom","a":{"url":"https://github.com/nioc/vue-dom/issues"},"c":"AGPL-3.0-or-later","e":{"name":"VueDom","description":"<p><b>VueDom</b> est un client web pour solution domotique (actuellement compatible avec <a href=\'https://www.jeedom.com\' target=\'_blank\' rel=\'noreferrer\'>Jeedom</a>).</p><p>Il s\'appuie sur les composants open-sources suivants :</p><ul><li>VueJS</li><li>Bulma</li></ul><p>En cas de problème ou pour toute suggestion, merci de créer un <a href=\'https://github.com/nioc/vue-dom/issues\' target=\'_blank\' rel=\'noreferrer\'>ticket</a>.</p>","latestReleaseUrl":"https://api.github.com/repos/nioc/vue-dom/releases/latest"}}')},"9dc3":function(e,t,n){var a={"./fr":"9f26","./fr.js":"9f26"};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="9dc3"},a464:function(e,t,n){"use strict";n.r(t),n.d(t,"DemoApi",(function(){return b}));var a=n("1da1"),r=n("2909"),i=(n("96cf"),n("4de4"),n("d3b7"),n("7db0"),n("25f0"),n("d81d"),n("159b"),n("c740"),n("a434"),n("ac1f"),n("1276"),n("4c53"),n("99af"),n("4d90"),n("c35a"),n("a9e3"),n("2b0e")),s=new i["a"],o=n("cd3f"),u={users:[{id:"1",login:"demo",roles:["admin","write"],email:"demo@domain.ltd",isActive:!0},{id:"2",login:"demo-2",roles:["write"],email:"admin@domain.ltd",isActive:!0}],tokens:[{id:"1234",userId:"1",issuedDate:s.$moment().subtract(1424,"minutes").format(),userAgent:"Mozilla/5.0 (Android 9; Mobile; rv:84.0) Gecko/84.0 Firefox/84.0",ip:"10.0.0.21",token:"abcd1234-1234-1234-abcd-abcd1234abcd"},{id:"5678",userId:"1",issuedDate:s.$moment().format(),userAgent:"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:84.0) Gecko/20100101 Firefox/84.0",ip:"10.0.0.53",token:"abcd1234-5678-5678-abcd-abcd5678abcd"}],rooms:[{id:"1",name:"Maison",parentId:null,isVisible:!0,summary:[{key:"temperature",value:21.3},{key:"humidity",value:41},{key:"download",value:62},{key:"upload",value:6},{key:"power",value:1250}],summaryStates:[{state:"11",key:"temperature"},{state:"16",key:"temperature"},{state:"14",key:"humidity"},{state:"15",key:"humidity"},{state:"4",key:"power"},{state:"200",key:"download"},{state:"201",key:"upload"}]},{id:"2",name:"Extérieur",parentId:"1",isVisible:!0,summary:[{key:"temperature",value:12},{key:"humidity",value:90}],summaryStates:[{state:"5",key:"temperature"},{state:"6",key:"humidity"}]},{id:"3",name:"Séjour",parentId:"1",isVisible:!0,summary:[{key:"temperature",value:22},{key:"humidity",value:41}],summaryStates:[{state:"16",key:"temperature"},{state:"15",key:"humidity"}]},{id:"4",name:"Chambre",parentId:"1",isVisible:!0,summary:[{key:"temperature",value:21},{key:"humidity",value:42}],summaryStates:[{state:"11",key:"temperature"},{state:"14",key:"humidity"}]},{id:"5",name:"Cuisine",parentId:"1",isVisible:!0,summary:[{key:"light",value:0}],summaryStates:[{state:"170",key:"light"}]}],equipments:[{id:"1",logicalId:"domonode",roomId:"1",module:"core",name:"Domonode",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(2,"days").format(),tags:[]},{id:"2",logicalId:"conso",roomId:"1",module:"enedis",name:"Consommation électrique",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(30,"seconds").format(),tags:[]},{id:"3",logicalId:"02:00:00:00:00:00",roomId:"2",module:"netatmo",name:"Météo (extérieure)",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(20,"minutes").format(),battery:46,hasLowBattery:!1,hasNoCommunication:!0,alertNoCommunicationDelay:15,tags:["Météo"]},{id:"4",logicalId:"04:00:00:00:00:00:fa",roomId:"4",module:"netatmo",name:"Météo (Chambre)",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(5,"minutes").format(),battery:68,hasLowBattery:!1,hasNoCommunication:null,alertNoCommunicationDelay:15,tags:["Météo"]},{id:"5",logicalId:"05:00:00:04:c5:b8",roomId:"2",module:"netatmo",name:"Pluviomètre",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(5,"minutes").format(),battery:40,hasLowBattery:!1,hasNoCommunication:null,alertNoCommunicationDelay:15,tags:["Météo"]},{id:"6",logicalId:"06:00:00:00:00:00",roomId:"2",module:"netatmo",name:"Anémomètre",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(5,"minutes").format(),battery:62,hasLowBattery:!1,hasNoCommunication:null,alertNoCommunicationDelay:15,tags:["Météo"]},{id:"8",logicalId:"70:00:00:00:00:00",roomId:"3",module:"netatmo",name:"Météo (Salon)",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(5,"minutes").format(),hasNoCommunication:null,alertNoCommunicationDelay:15,tags:["Météo"]},{id:"9",logicalId:"xmpp",roomId:"1",module:"xmpp",name:"XMPP",isVisible:!1,isActive:!0,lastCommunication:s.$moment().subtract(3,"day").format(),tags:[]},{id:"10",logicalId:"box",roomId:"1",module:"box",name:"FAI box",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(3,"minutes").format(),alertNoCommunicationDelay:10,tags:["Réseau"]},{id:"23",logicalId:"10/4/181",roomId:"5",module:"knx",name:"Volet cuisine",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(1,"day").format(),hasNoCommunication:null,tags:["Volets"]},{id:"29",logicalId:"10/4/224",roomId:"4",module:"knx",name:"Volet chambre",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(1,"day").format(),hasNoCommunication:null,tags:["Volets"]},{id:"17",logicalId:"10/4/107",roomId:"5",module:"knx",name:"Plafonnier cuisine",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(1,"day").format(),hasNoCommunication:null,tags:[]},{id:"20",logicalId:"24/4/25",roomId:"4",module:"knx",name:"Plafonnier chambre",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(1,"day").format(),hasNoCommunication:null,tags:[]},{id:"101",logicalId:"plafonnier-sejour",roomId:"3",module:"knx",name:"Plafonnier séjour",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(1,"day").format(),hasNoCommunication:null,tags:[]},{id:"102",logicalId:"volet-sejour",roomId:"3",module:"knx",name:"Volet séjour",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(4,"hours").format(),hasNoCommunication:null,tags:["Volets"]},{id:"40",logicalId:"69000",roomId:"2",module:"rain",name:"Prévisions de pluie",isVisible:!0,isActive:!0,lastCommunication:s.$moment().subtract(15,"minutes").format(),hasNoCommunication:null,tags:["Météo"]}],actions:[{id:"1",logicalId:"log",name:"Log",eqId:"1",module:"core",type:"button",isVisible:!1,icon:"far fa-edit"},{id:"2",logicalId:"generic-update-state",name:"Update state",eqId:"1",module:"core",type:"button",params:{stateId:"1",value:"holidays"},paramsType:"json",isVisible:!1},{id:"3",logicalId:"update-state-holidays-off",name:"Congés off",eqId:"1",module:"core",type:"switch_off",params:{stateId:"1",value:0},paramsType:"json",isVisible:!0,stateFeedbackId:"1"},{id:"4",logicalId:"update-state-holidays-on",name:"Congés on",eqId:"1",module:"core",type:"switch_on",params:{stateId:"1",value:1},paramsType:"json",isVisible:!0,stateFeedbackId:"1"},{id:"5",logicalId:"demo@domain.ltd",name:"Message à l'utilisateur",eqId:"9",module:"xmpp",type:"button",params:"Coucou",paramsType:"string",options:[{value:"J'éteins la lumière ?",label:""},{value:"Je ferme les volets ?",label:""}],isVisible:!1,isAsk:!0,icon:"fa fa-comment",stateFeedbackId:"17"},{id:"100",logicalId:"10/4/111",name:"Intensité",eqId:"101",module:"knx",type:"slider",paramsType:"json",params:{value:0},isVisible:!0,stateFeedbackId:"100"},{id:"101",logicalId:"24/4/24",name:"switch",eqId:"20",module:"knx",type:"switch",paramsType:"json",params:{value:1},isVisible:!0,stateFeedbackId:"101"},{id:"170",logicalId:"10/4/107",name:"switch",eqId:"17",module:"knx",type:"switch",paramsType:"json",params:{value:1},isVisible:!0,stateFeedbackId:"170"},{id:"102",logicalId:"10/4/175",name:"Montée",eqId:"102",module:"knx",type:"button",paramsType:"json",params:{value:1},isVisible:!0,icon:"fas fa-angle-double-up"},{id:"103",logicalId:"10/4/176",name:"Arrêt",eqId:"102",module:"knx",type:"button",paramsType:"json",params:{value:1},isVisible:!0,icon:"fas fa-stop"},{id:"104",logicalId:"10/4/175",name:"Descente",eqId:"102",module:"knx",type:"button",paramsType:"json",params:{value:0},isVisible:!0,icon:"fas fa-angle-double-down"},{id:"105",logicalId:"10/4/224",name:"Montée",eqId:"29",module:"knx",type:"button",paramsType:"json",params:{value:1},isVisible:!0,icon:"fas fa-angle-double-up"},{id:"106",logicalId:"10/4/223",name:"Arrêt",eqId:"29",module:"knx",type:"button",paramsType:"json",params:{value:1},isVisible:!0,icon:"fas fa-stop"},{id:"107",logicalId:"10/4/224",name:"Descente",eqId:"29",module:"knx",type:"button",paramsType:"json",params:{value:0},isVisible:!0,icon:"fas fa-angle-double-down"},{id:"108",logicalId:"10/4/181",name:"Montée",eqId:"23",module:"knx",type:"button",paramsType:"json",params:{value:1},isVisible:!0,icon:"fas fa-angle-double-up"},{id:"109",logicalId:"10/4/180",name:"Arrêt",eqId:"23",module:"knx",type:"button",paramsType:"json",params:{value:1},isVisible:!0,icon:"fas fa-stop"},{id:"110",logicalId:"10/4/181",name:"Descente",eqId:"23",module:"knx",type:"button",paramsType:"json",params:{value:0},isVisible:!0,icon:"fas fa-angle-double-down"},{id:"200",logicalId:"reboot",name:"Reboot",eqId:"10",module:"knx",type:"button",paramsType:"string",params:"",isVisible:!0,needsConfirm:!0,icon:"fas fa-redo-alt"}],states:[{id:"1",logicalId:"mode",name:"Mode congés",eqId:"1",module:"core",type:"boolean",currentValue:0,isVisible:!0,date:s.$moment().subtract(2,"days").format(),icon:"fa fa-bed"},{id:"4",logicalId:"puissance-instantanee",name:"Puissance",eqId:"2",module:"enedis",type:"numeric",currentValue:1250,isVisible:!0,icon:"fa fa-bolt",isHistorized:!0,date:s.$moment().subtract(30,"seconds").format(),unit:"kW"},{id:"2",logicalId:"06:00:00:00:00:00#WindAngle",name:"Direction",eqId:"6",module:"netatmo",type:"numeric",genericType:"WIND_DIRECTION",isVisible:!0,currentValue:315,date:s.$moment().subtract(5,"minutes").format(),unit:"°"},{id:"3",logicalId:"06:00:00:00:00:00#WindStrength",name:"Vitesse",eqId:"6",module:"netatmo",type:"numeric",genericType:"WIND_SPEED",isHistorized:!0,isVisible:!0,currentValue:1,date:s.$moment().subtract(5,"minutes").format(),unit:"km/h"},{id:"5",logicalId:"02:00:00:00:00:00#Temperature",name:"Temperature",eqId:"3",module:"netatmo",type:"numeric",genericType:"TEMPERATURE",isHistorized:!0,isVisible:!0,currentValue:12.8,date:s.$moment().subtract(20,"minutes").format(),unit:"°C"},{id:"6",logicalId:"02:00:00:00:00:00#Humidity",name:"Humidité",eqId:"3",module:"netatmo",type:"numeric",genericType:"HUMIDITY",isHistorized:!0,isVisible:!0,currentValue:90,date:s.$moment().subtract(20,"minutes").format(),unit:"%"},{id:"7",logicalId:"70:00:00:00:00:00#CO2",name:"CO2",eqId:"8",module:"netatmo",type:"numeric",genericType:"CO2",isHistorized:!0,isVisible:!0,currentValue:749,date:s.$moment().subtract(5,"minutes").format(),unit:"ppm"},{id:"11",logicalId:"04:00:00:00:00:00:fa#Temperature",name:"Temperature",eqId:"4",module:"netatmo",type:"numeric",genericType:"TEMPERATURE",isHistorized:!0,isVisible:!0,currentValue:20.6,date:s.$moment().subtract(5,"minutes").format(),unit:"°C"},{id:"12",logicalId:"05:00:00:04:c5:b8#sum_rain_1",name:"Pluie",eqId:"5",module:"netatmo",type:"numeric",genericType:"RAIN_SUM",isHistorized:!0,isVisible:!0,currentValue:.5,date:s.$moment().subtract(5,"minutes").format(),unit:"mm/h",icon:"fas fa-cloud-showers-heavy"},{id:"13",logicalId:"04:00:00:00:00:00:fa#CO2",name:"CO2",eqId:"4",module:"netatmo",type:"numeric",genericType:"CO2",isHistorized:!0,isVisible:!0,currentValue:693,date:s.$moment().subtract(5,"minutes").format(),unit:"ppm"},{id:"14",logicalId:"04:00:00:00:00:00:fa#Humidity",name:"Humidité",eqId:"4",module:"netatmo",type:"numeric",genericType:"HUMIDITY",isHistorized:!0,isVisible:!0,currentValue:42,date:s.$moment().subtract(5,"minutes").format(),unit:"%"},{id:"15",logicalId:"70:00:00:00:00:00#Humidity",name:"Humidité",eqId:"8",module:"netatmo",type:"numeric",genericType:"HUMIDITY",isHistorized:!0,isVisible:!0,currentValue:41,date:s.$moment().subtract(5,"minutes").format(),unit:"%"},{id:"16",logicalId:"70:00:00:00:00:00#Temperature",name:"Temperature",eqId:"8",module:"netatmo",type:"numeric",genericType:"TEMPERATURE",isHistorized:!0,isVisible:!0,currentValue:22,date:s.$moment().subtract(5,"minutes").format(),unit:"°C"},{id:"17",logicalId:"demo@domain.ltd",name:"Message de l'utilisateur",eqId:"9",module:"xmpp",type:"string",isVisible:!1,currentValue:"Hello",date:s.$moment().subtract(3,"day").format()},{id:"81",logicalId:"forecastDate",name:"forecast date",eqId:"40",module:"rain",isVisible:!0,currentValue:s.$moment().format(),date:s.$moment().format()},{id:"82",logicalId:"prev0",name:"Prévision 00-05",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"83",logicalId:"prev1",name:"Prévision 05-10",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"84",logicalId:"prev2",name:"Prévision 10-15",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"85",logicalId:"prev3",name:"Prévision 15-20",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"86",logicalId:"prev4",name:"Prévision 20-25",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"87",logicalId:"prev5",name:"Prévision 25-30",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"88",logicalId:"prev6",name:"Prévision 30-35",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"89",logicalId:"prev7",name:"Prévision 35-40",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"90",logicalId:"prev8",name:"Prévision 40-45",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"91",logicalId:"prev9",name:"Prévision 45-50",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:2,date:s.$moment().format()},{id:"92",logicalId:"prev10",name:"Prévision 50-55",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:3,date:s.$moment().format()},{id:"93",logicalId:"prev11",name:"Prévision 55-60",eqId:"40",module:"rain",type:"numeric",isVisible:!0,currentValue:1,date:s.$moment().format()},{id:"100",logicalId:"10/4/111",name:"Intensité",eqId:"101",module:"knx",type:"numeric",genericType:"LIGHT_STATE",isVisible:!0,currentValue:0,date:s.$moment().subtract(1,"day").format()},{id:"101",logicalId:"24/4/25",name:"État",eqId:"20",module:"knx",type:"boolean",genericType:"LIGHT_STATE",isVisible:!0,currentValue:0,date:s.$moment().subtract(1,"day").format()},{id:"170",logicalId:"10/4/108",name:"État",eqId:"17",module:"knx",type:"boolean",genericType:"LIGHT_STATE",isVisible:!0,currentValue:0,date:s.$moment().subtract(1,"day").format()},{id:"200",logicalId:"download",name:"Download",eqId:"10",module:"box",type:"numeric",genericType:"DOWNLOAD",isVisible:!0,currentValue:62,unit:"KB/s",date:s.$moment().subtract(3,"minutes").format()},{id:"201",logicalId:"upload",name:"Upload",eqId:"10",module:"box",type:"numeric",genericType:"UPLOAD",isVisible:!0,currentValue:6,unit:"KB/s",date:s.$moment().subtract(3,"minutes").format()},{id:"176",isVisible:!1,name:"Prochaine pluie",module:"rain",type:"datetime",logicalId:"nextRainDate",eqId:"40",date:s.$moment().format(),currentValue:s.$moment().add(35,"minutes").format()}],userViews:[{isActive:!0,cards:[{type:"custom",elements:[{type:"state",id:"5",parentId:"3",label:"Extérieur"},{type:"state",id:"16",parentId:"8",label:"Salon"},{type:"state",id:"11",parentId:"4",label:"Chambre"}],title:"Températures"},{type:"equipment",id:"40"},{type:"custom",elements:[{type:"state",id:"6",parentId:"3",label:"Extérieur"},{type:"state",id:"15",parentId:"8",label:"Salon"},{type:"state",id:"14",parentId:"4",label:"Chambre"}],title:"Humidité"}],id:"1",code:"weather",title:"Météo",icon:"fas fa-cloud-sun-rain",isShared:!0},{isActive:!0,cards:[{type:"custom",elements:[{type:"state",id:"101",parentId:"20",label:"Chambre"},{type:"state",id:"170",parentId:"17",label:"Cuisine"},{type:"state",id:"100",parentId:"101",label:"Séjour"}],title:"Lumières"}],code:"lights",title:"Lumières",icon:"far fa-lightbulb",isShared:!0,id:"2"}],scenarios:[{id:"1",isVisible:!1,isActive:!0,triggers:[{type:"state",value:"5"}],elements:[{type:"rule",definition:{type:"any",criterias:[{fact:"5",operator:"lte",value:0}],onValidElements:[{type:"action",definition:{id:"5",paramsType:"jsonata",params:"'Risque de gel, la température extérieure est de '&_5&'°C'"},isActive:!0}],onInvalidElements:[],skipRepeated:!0},isActive:!0}],name:"Alerte gel",lastExecution:s.$moment().subtract(1,"days").format()},{id:"2",isVisible:!1,isActive:!0,triggers:[{type:"datetime",value:"0 0 8 * * *"}],elements:[{type:"rule",definition:{type:"any",criterias:[{fact:"1",operator:"e",value:"0"}],onValidElements:[{type:"action",definition:{id:"105",paramsType:"string",params:null},isActive:!0},{type:"action",definition:{id:"108",paramsType:"string",params:null},isActive:!0},{type:"action",definition:{id:"102",paramsType:"string",params:null},isActive:!0}],onInvalidElements:[]},isActive:!0}],name:"Ouverture automatique des volets"},{id:"3",isVisible:!0,isActive:!0,triggers:[],elements:[{type:"action",definition:{id:"105",paramsType:"string",params:null},isActive:!0},{type:"action",definition:{id:"108",paramsType:"string",params:null},isActive:!0},{type:"action",definition:{id:"102",paramsType:"string",params:null},isActive:!0}],name:"Ouverture de tous les volets",description:"Ouverture manuelle de tous les volets"}],channels:[{id:"2",name:"XMPP",input:"17",output:"5",isActive:!0,logicalId:"12345678",module:"xmpp"}],jobs:[{id:"system-communication-check",name:"[System] Vérification de la communication des équipements",isRunning:!0,cronTime:"0 */15 * * * *",lastDate:s.$moment().subtract(2,"minutes").format(),nextDate:s.$moment().add(13,"minutes").format()}],queries:[{query:"La porte est-elle fermée",reply:"La porte est fermée"},{query:"L'alarme est-elle enclenchée",reply:"L'alarme est enclenchée"},{query:"Quelle est la température du salon",reply:"Il fait 22°C dans le salon"},{query:"Quelle est la température de la chambre",reply:"Il fait 21°C dans la chambre"},{query:"Va-t-il pleuvoir",reply:"Voici les prévisions de pluie :\\n\\nActuellement : 0 mm/h.\\nD'ici 1 heure : Pas de précipitations."}],intents:[{id:"1",utterances:[],answers:[{template:"Désolé {{from}}, je n'ai pas compris",opts:"from !== undefined"},{template:"Désolé, je n'ai pas compris",opts:"from === undefined"},{template:"Pardon {{from}}, mais je ne comprends pas",opts:"from !== undefined"},{template:"Pardon, mais je ne comprends pas",opts:"from === undefined"}],actions:[],key:"None",description:"Messages par défaut",isActive:!0},{id:"7",utterances:[{value:"Va t il pleuvoir ?"},{value:"Pluie dans l'heure"},{value:"Pluie"},{value:"Dois-je prendre un parapluie ?"}],answers:[{template:"{{nextRaindate}}.",opts:""}],actions:[{key:"getStateValueJsonata",parameters:[{value:"176"},{value:'$ ? "Il pourrait pleuvoir dans " & $floor(($toMillis()-$millis())/60000) & " minutes": "Pas de pluie prévue dans l\'heure"'},{value:"nextRaindate"}]},{key:"bindContext",parameters:[]}],key:"weather.rain",description:"Prévision de pluie",isActive:!0}],entities:[],notifications:[{id:"1",date:s.$moment().subtract(532,"minutes").format(),plugin:"netatmo",message:"Erreur lors de la récupération des données",action:""},{id:"2",date:s.$moment().subtract(150,"minutes").format(),plugin:"scenario",message:"Le scénario a rencontré une erreur",action:""}],logs:[{message:'[WS] Utilisateur "demo" authentifié (IP: 10.0.0.53)',level:"info",service:"core",timestamp:s.$moment().format()},{message:"Lancement du scénario #1",level:"debug",service:"core",timestamp:s.$moment().subtract(42,"minutes").format()},{method:"POST",url:"/api/views",statusCode:400,code:"InputValidationError",message:"[API] Ressource invalide : body/cards ne doit pas contenir moins de 1 élément",detail:[{keyword:"minItems",dataPath:".cards",schemaPath:"#/properties/cards/minItems",params:{limit:1},message:"ne doit pas contenir moins de 1 élément"}],stack:"Error: Ressource invalide : body/cards ne doit pas contenir moins de 1 élément\n    at Object.<anonymous> (/home/node/app/api/index.js:72:13)\n    at handleError (/home/node/app/node_modules/fastify/lib/reply.js:555:20)\n    at onErrorHook (/home/node/app/node_modules/fastify/lib/reply.js:524:5)\n    at _Reply.Reply.send (/home/node/app/node_modules/fastify/lib/reply.js:128:5)\n    at preValidationCallback (/home/node/app/node_modules/fastify/lib/handleRequest.js:85:11)\n    at handleReject (/home/node/app/node_modules/fastify/lib/hooks.js:184:5)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)",level:"error",service:"core",timestamp:s.$moment().subtract(73,"minutes").format()}],loggersLevel:[{logger:"core",level:"debug"}]};function c(e){return o(u[e])}function l(e,t){var n=o(u[e].filter((function(e){var n=!0;for(var a in t)e[a]!==t[a]&&(n=!1);return n})));return n}function m(e,t){var n=o(u[e].find((function(e){return e.id===t})));return n}function d(e,t){return t.id=(Math.max.apply(Math,u[e].map((function(e){return parseInt(e.id)})))+1).toString(),u[e].push(t),o(t)}function p(e,t){return u[e].forEach((function(e){e.id===t.id&&(e=Object.assign(e,t))})),o(t)}function f(e,t){var n=u[e].findIndex((function(e){return e.id===t}));u[e].splice(n,1)}function h(){var e=Math.floor(1250*(.9+Math.random()/4));return[{type:"stateUpdate",payload:{id:"4",currentValue:e,date:s.$moment().format(),eqId:"2"}},{type:"equipmentUpdate",payload:{id:"2",roomId:"1",lastCommunication:s.$moment().format()}},{type:"roomSummaryUpdate",payload:{id:"1",key:"power",value:e}},{type:"roomSummaryUpdate",payload:{id:"global",key:"power",value:e}}]}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,i=null;function o(e){var n=[];switch(e.type){case"roomSummaryUpdate":e.payload.key=e.payload.key.toLowerCase(),t.commit("data/saveRoomSummary",e.payload);break;case"equipmentUpdate":t.commit("data/updateEquipments",[e.payload]);break;case"stateUpdate":n.push({id:e.payload.id,currentValue:e.payload.currentValue,date:e.payload.date,eqId:e.payload.eqId});break}n.length>0&&t.commit("data/updateStates",n)}return{authenticate:function(e,t){return{access_token:"eyJhbGciOiJIUzUxMiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwibmFtZSI6ImRlbW8iLCJzY29wZSI6ImFkbWluIHdyaXRlIiwiaWF0IjoxNjEwOTMxMzM5LCJleHAiOjE5MzY4NTEzMzksImF1ZCI6Imh0dHA6Ly9sb2NhbGhvc3QifQ.sign"}},setAuthentication:function(e){return n=e.access_token,e},logout:function(){},getAllRoles:function(){return["admin","write","system"]},getRoles:function(e){var t=["user"];if(e.access_token)try{var n=JSON.parse(atob(e.access_token.split(".")[1]));t.push.apply(t,Object(r["a"])(n.scope.split(" ")))}catch(a){console.warn("JWT parsing failed",a)}return t},getUserId:function(e){if(e.access_token)try{var t=JSON.parse(atob(e.access_token.split(".")[1]));return t.sub}catch(n){return void console.warn("JWT parsing failed",n)}},openEventsListener:function(e){if(t.state.app.hasNetwork,!n)return console.warn("Missing API key"),t.commit("app/setInformation",{type:"is-danger",message:"Erreur d'authentification, veuillez-vous reconnecter"}),void t.commit("app/setUser",{login:null,isAuthenticated:!1});i?console.warn("Socket already opened"):(i=setInterval((function(){h().forEach(o)}),3e4),t.commit("app/setEventsListenerStatus",!0))},closeEventsListener:function(){i&&(clearInterval(i),i=null,t.commit("app/setEventsListenerStatus",!1))},getRooms:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=c("rooms"),e&&n.forEach((function(e){var t=l("equipments",{roomId:e.id});t.forEach((function(e){e.states=l("states",{eqId:e.id}),e.actions=l("actions",{eqId:e.id})})),e.equipments=t})),t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})))()},getRoom:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=m("rooms",e),r=l("equipments",{roomId:a.id}),a.equipments=r,t||delete a.summaryStates,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()},createRoom:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("rooms",e));case 1:case"end":return t.stop()}}),t)})))()},updateRoom:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("rooms",e));case 1:case"end":return t.stop()}}),t)})))()},deleteRoom:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:f("rooms",e);case 1:case"end":return t.stop()}}),t)})))()},getSummary:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},m("rooms","1").summary.forEach((function(e){t[e.key]=e.value})),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})))()},getRoomSummary:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})))()},getEquipments:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=c("equipments"),a.forEach((function(n){e&&(n.actions=l("actions",{eqId:n.id})),t&&(n.states=l("states",{eqId:n.id}))})),n.abrupt("return",a);case 3:case"end":return n.stop()}}),n)})))()},getEquipment:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=m("equipments",e),n.states=l("states",{eqId:n.id}),n.actions=l("actions",{eqId:n.id}),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},createEquipment:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("equipments",e));case 1:case"end":return t.stop()}}),t)})))()},updateEquipment:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("equipments",e));case 1:case"end":return t.stop()}}),t)})))()},deleteEquipment:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:f("equipments",e);case 1:case"end":return t.stop()}}),t)})))()},getStates:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("states"));case 1:case"end":return e.stop()}}),e)})))()},getState:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",m("states",e));case 1:case"end":return t.stop()}}),t)})))()},createState:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("states",e));case 1:case"end":return t.stop()}}),t)})))()},updateState:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("states",e));case 1:case"end":return t.stop()}}),t)})))()},deleteState:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:f("states",e);case 1:case"end":return t.stop()}}),t)})))()},getActions:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("actions"));case 1:case"end":return e.stop()}}),e)})))()},getAction:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",m("actions",e));case 1:case"end":return t.stop()}}),t)})))()},createAction:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("actions",e));case 1:case"end":return t.stop()}}),t)})))()},updateAction:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("actions",e));case 1:case"end":return t.stop()}}),t)})))()},deleteAction:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:f("actions",e);case 1:case"end":return t.stop()}}),t)})))()},getUsers:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("users"));case 1:case"end":return e.stop()}}),e)})))()},getUser:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=m("users",e),n){t.next=3;break}throw new Error("unkwnow");case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},createUser:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.roles=[],e.isActive=!1,t.abrupt("return",d("users",e));case 3:case"end":return t.stop()}}),t)})))()},updateUser:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("users",e));case 1:case"end":return t.stop()}}),t)})))()},updateUserPassword:function(e,t){return 1},deleteUser:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:f("users",e);case 1:case"end":return t.stop()}}),t)})))()},getUserTokens:function(e){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("tokens"));case 1:case"end":return e.stop()}}),e)})))()},deleteUserToken:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:f("tokens",t);case 1:case"end":return e.stop()}}),e)})))()},requestUserRefreshToken:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={userId:e,issuedDate:s.$moment().format(),userAgent:"Mozilla/5.0 (Android 9; Mobile; rv:84.0) Gecko/84.0 Firefox/84.0",ip:"10.0.0.99",token:"abcd1234-".concat(Math.floor(999*Math.random()).toString().padStart(4,0),"-1234-abcd-a").concat(Math.floor(9999999999*Math.random()).toString().padStart(10,0),"d")},t.abrupt("return",d("tokens",n));case 2:case"end":return t.stop()}}),t)})))()},getMyProfile:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",m("users","1"));case 1:case"end":return e.stop()}}),e)})))()},updateMyProfile:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("users",e));case 1:case"end":return t.stop()}}),t)})))()},updateMyPassword:function(e){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},getMyTokens:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",l("tokens",{userId:"1"}));case 1:case"end":return e.stop()}}),e)})))()},deleteMyToken:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:f("tokens",e);case 1:case"end":return t.stop()}}),t)})))()},executeAction:function(t){var n=arguments;return Object(a["a"])(regeneratorRuntime.mark((function a(){var r,i,s,u,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:{},i=m("actions",t),!i.stateFeedbackId){a.next=14;break}return r&&(Object.prototype.hasOwnProperty.call(r,"slider")&&(r.value=r.slider,delete r.slider),Object.prototype.hasOwnProperty.call(r,"select")&&(r.value=r.select,delete r.select),i.params=Object.assign(i.params,r)),s=m("states",i.stateFeedbackId),s.currentValue=i.params.value,s.date=e.moment().format(),p("states",s),o({type:"stateUpdate",payload:s}),u=m("equipments",s.eqId),u.lastCommunication=s.date,p("equipments",u),o({type:"equipmentUpdate",payload:u}),a.abrupt("return");case 14:c=m("equipments",i.eqId),c.lastCommunication=e.moment().format(),p("equipments",c),o({type:"equipmentUpdate",payload:c});case 18:case"end":return a.stop()}}),a)})))()},getScenarios:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("scenarios").map((function(e){return e.state="stop",e})));case 1:case"end":return e.stop()}}),e)})))()},changeScenarioState:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))()},getScenario:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",m("scenarios",e));case 1:case"end":return t.stop()}}),t)})))()},createScenario:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("scenarios",e));case 1:case"end":return t.stop()}}),t)})))()},updateScenario:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("scenarios",e));case 1:case"end":return t.stop()}}),t)})))()},deleteScenario:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",f("scenarios",e));case 1:case"end":return t.stop()}}),t)})))()},getIntents:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("intents"));case 1:case"end":return e.stop()}}),e)})))()},getIntent:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",m("intents",e));case 1:case"end":return t.stop()}}),t)})))()},createIntent:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("intents",e));case 1:case"end":return t.stop()}}),t)})))()},updateIntent:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("intents",e));case 1:case"end":return t.stop()}}),t)})))()},deleteIntent:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",f("intents",e));case 1:case"end":return t.stop()}}),t)})))()},getIntentActions:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"getSummary",label:"Lire un résumé",parametersPlaceholder:["Clé de l'entité","Clé du résumé"]},{value:"getEquipmentStateValue",label:"Lire l'état d'un équipement",parametersPlaceholder:["Clé de l'entité"]},{value:"getStateValueJsonata",label:"Lire une opération JSONata sur un état",parametersPlaceholder:["Identifiant état","JSONata expression","Clé d'écriture dans le contexte"]},{value:"executeAction",label:"Exécuter une action",parametersPlaceholder:["Identifiant de l'action","Paramètre de l'action"]},{value:"bindContext",label:"Fusionner les variables",parametersPlaceholder:[]}]);case 1:case"end":return e.stop()}}),e)})))()},getEntities:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("entities"));case 1:case"end":return e.stop()}}),e)})))()},getEntity:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",m("entities",e));case 1:case"end":return t.stop()}}),t)})))()},createEntity:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("entities",e));case 1:case"end":return t.stop()}}),t)})))()},updateEntity:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("entities",e));case 1:case"end":return t.stop()}}),t)})))()},deleteEntity:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",f("entities",e));case 1:case"end":return t.stop()}}),t)})))()},trainNlp:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},processNlp:function(e){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{locale:"fr",utterance:"test",channel:"admin-test-nlp",from:"user",languageGuessed:!1,localeIso2:"fr",language:"French",nluAnswer:{classifications:[{intent:"weather.rain",score:0}]},classifications:[{intent:"weather.rain",score:0}],intent:"None",score:1,domain:"default",sourceEntities:[],entities:[],answers:[{answer:"Désolé utilisateur, je n'ai pas compris",opts:"from !== undefined"},{answer:"Pardon utilisateur, mais je ne comprends pas",opts:"from !== undefined"}],answer:"Pardon utilisateur, mais je ne comprends pas",actions:[],duration:262});case 1:case"end":return e.stop()}}),e)})))()},getChannels:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("channels"));case 1:case"end":return e.stop()}}),e)})))()},getChannel:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",m("channels",e));case 1:case"end":return t.stop()}}),t)})))()},createChannel:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("channels",e));case 1:case"end":return t.stop()}}),t)})))()},updateChannel:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("channels",e));case 1:case"end":return t.stop()}}),t)})))()},deleteChannel:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",f("channels",e));case 1:case"end":return t.stop()}}),t)})))()},getStatistics:function(e){var t=arguments;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:null,t.length>2&&void 0!==t[2]?t[2]:null,a=m("states",e),r=[-1,0,0,0,1],n.abrupt("return",{min:Number.parseFloat(Number.parseFloat(a.currentValue*(1-Math.random())).toPrecision(3)),avg:Number.parseFloat(Number.parseFloat(a.currentValue*(.5+Math.random())).toPrecision(3)),max:Number.parseFloat(Number.parseFloat(a.currentValue*(1+Math.random())).toPrecision(3)),trend:r[Math.floor(Math.random()*r.length)]});case 5:case"end":return n.stop()}}),n)})))()},getHistory:function(t){var n=arguments;return Object(a["a"])(regeneratorRuntime.mark((function a(){var r,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(n.length>1&&void 0!==n[1]?n[1]:null,n.length>2&&void 0!==n[2]?n[2]:null,r=m("states",t),i=[],s=0;s<48;s++)i.push({value:r.currentValue*(.5+Math.random()),date:e.moment().subtract(30*s,"minutes")});return a.abrupt("return",i);case 6:case"end":return a.stop()}}),a)})))()},getUserViews:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("userViews"));case 1:case"end":return e.stop()}}),e)})))()},getUserView:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",m("userViews",e));case 1:case"end":return t.stop()}}),t)})))()},createUserView:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",d("userViews",e));case 1:case"end":return t.stop()}}),t)})))()},updateUserView:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("userViews",e));case 1:case"end":return t.stop()}}),t)})))()},deleteUserView:function(e){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},getLogs:function(){var e=arguments;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:null,t.abrupt("return",c("logs"));case 2:case"end":return t.stop()}}),t)})))()},getLoggersLevel:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("loggersLevel"));case 1:case"end":return e.stop()}}),e)})))()},setLoggerLevel:function(e){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",p("loggersLevel",e));case 1:case"end":return t.stop()}}),t)})))()},getJobs:function(){var e=arguments;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:null,t.abrupt("return",c("jobs"));case 2:case"end":return t.stop()}}),t)})))()},restartJobs:function(){var e=arguments;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:null,t.abrupt("return",c("jobs"));case 2:case"end":return t.stop()}}),t)})))()},getDatabaseCollections:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",[{name:"states",stats:{size:127682,count:206,avgObjSize:619,storageSize:110592,totalIndexSize:73728}},{name:"users",stats:{size:595,count:3,avgObjSize:198,storageSize:36864,totalIndexSize:73728}},{name:"counters",stats:{size:650,count:12,avgObjSize:54,storageSize:36864,totalIndexSize:73728}},{name:"logs",stats:{size:29590116,count:67850,avgObjSize:436,storageSize:8376320,totalIndexSize:2019328}},{name:"equipments",stats:{size:11358,count:59,avgObjSize:192,storageSize:36864,totalIndexSize:73728}},{name:"rooms",stats:{size:3107,count:17,avgObjSize:182,storageSize:36864,totalIndexSize:32768}},{name:"usersTokens",stats:{size:2162,count:11,avgObjSize:196,storageSize:36864,totalIndexSize:36864}},{name:"statesHistory",stats:{size:21639889,count:341838,avgObjSize:63,storageSize:7192576,totalIndexSize:12488704}},{name:"userViews",stats:{size:592,count:1,avgObjSize:592,storageSize:36864,totalIndexSize:20480}},{name:"channels",stats:{size:260,count:2,avgObjSize:130,storageSize:36864,totalIndexSize:110592}},{name:"intents",stats:{size:7083,count:12,avgObjSize:590,storageSize:36864,totalIndexSize:73728}},{name:"scenarios",stats:{size:9022,count:13,avgObjSize:694,storageSize:36864,totalIndexSize:36864}},{name:"entities",stats:{size:133,count:1,avgObjSize:133,storageSize:20480,totalIndexSize:40960}},{name:"actions",stats:{size:16867,count:80,avgObjSize:210,storageSize:45056,totalIndexSize:36864}}]);case 1:case"end":return e.stop()}}),e)})))()},getDatabaseBackup:function(e){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Non géré sur la démo");case 1:case"end":return e.stop()}}),e)})))()},importDatabaseBackup:function(e){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Non géré sur la démo");case 1:case"end":return e.stop()}}),e)})))()},getSystemMetrics:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{load:[{period:"1 minute",value:.39},{period:"5 minutes",value:.26},{period:"15 minutes",value:.19}],cpuCores:4,disk:[{fs:"/dev/sda2",mount:"/",size:240032280,available:210612040},{fs:"/dev/sda1",mount:"/boot/firmware",size:258095,available:129241}],memory:{memTotal:1890052,memFree:192048,memAvailable:514796,swapTotal:0,swapFree:0},containers:[{name:"domonode_log.1.6q5kpqortbqayhgv5ndrzgtpx",memory:{raw:"38.54MiB / 150MiB",percent:25.69,usage:40412119.04,size:157286400},cpu:0},{name:"domonode_redis.1.3nazmwogexhrl9h1fraz1mwld",memory:{raw:"4.773MiB / 50MiB",percent:9.55,usage:5004853.248,size:52428800},cpu:.38},{name:"domonode_nlp.1.37awa5t3qf6rh69q6vszc3cln",memory:{raw:"96.79MiB / 200MiB",percent:48.39,usage:101491671.04,size:209715200},cpu:0},{name:"domonode_core.1.i57lycvfaf0os73uxvj0ac3a8",memory:{raw:"100.9MiB / 150MiB",percent:67.28,usage:105801318.4,size:157286400},cpu:0},{name:"domonode_vue-dom.1.qgn4i47awewl50tium41e8o1y",memory:{raw:"4.102MiB / 20MiB",percent:20.51,usage:4301258.752,size:20971520},cpu:0},{name:"domonode_node-red.1.pbafyahjq3tezh17netn1sns6",memory:{raw:"144.3MiB / 200MiB",percent:72.17,usage:151309516.8,size:209715200},cpu:0},{name:"domonode_haproxy.1.hwwcbjyvhwzin30nfyrs0dn78",memory:{raw:"22.03MiB / 50MiB",percent:44.05,usage:23100129.28,size:52428800},cpu:.29},{name:"domonode_mongo.1.6buw1phdymtn1jzvurwjz620k",memory:{raw:"194.4MiB / 250MiB",percent:77.77,usage:203843174.4,size:262144e3},cpu:2.31}],date:s.$moment().subtract(3,"minutes").format()});case 1:case"end":return e.stop()}}),e)})))()},getSystemHealth:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{healthy:!0,components:[{key:"db",label:"Base de données",status:"ok"},{key:"events",label:"Évenements (Pub/Sub)",status:"ok"}]});case 1:case"end":return e.stop()}}),e)})))()},askQuestion:function(e){var t=arguments;return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.length>1&&void 0!==t[1]?t[1]:null,a=l("queries",{query:e}),!(a.length>0)){n.next=6;break}return n.abrupt("return",a[0].reply);case 6:return r=["Désolé, je n'ai pas compris la demande","Je ne comprends pas","Je ne sais pas traiter cette requête :("],n.abrupt("return",r[Math.floor(Math.random()*r.length)]);case 8:case"end":return n.stop()}}),n)})))()},getSentences:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("queries").map((function(e){return e.query})));case 1:case"end":return e.stop()}}),e)})))()},getNotifications:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c("notifications"));case 1:case"end":return e.stop()}}),e)})))()},clearNotifications:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c("notifications").forEach((function(e){return f("notifications",e.id)}));case 1:case"end":return e.stop()}}),e)})))()}}}},cd32:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.attributes.states,(function(t){return n("info",{key:t,attrs:{id:t,"equipment-id":e.equipment.id}})})),e.attributes.actions.length>0?n("div",{staticClass:"is-flex-space-between mb-2"},[e._m(0),n("span",{staticClass:"buttons is-right has-addons is-flex-grow"},e._l(e.attributes.actions,(function(e){return n("action",{key:e,attrs:{id:e}})})),1)]):e._e()],2)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"fa-fw fa fa-tools mr-4"}),e._v("Actions")])}],i=n("5530"),s=(n("4de4"),n("d3b7"),n("159b"),n("7db0"),n("caad"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return"button"===e.action.type?n("button",{staticClass:"button is-rounded is-primary is-light",attrs:{title:e.action.name},on:{click:e.execute}},[n("span",{staticClass:"icon is-icon-mobile"},[n("i",{class:e.iconClass})]),n("span",{staticClass:"is-hidden-mobile"},[e._v(e._s(e.action.name))])]):"slider"===e.action.type?n("b-slider",{staticClass:"ml-5 mt-2",attrs:{lazy:"",title:e.action.name,min:e.action.minValue,max:e.action.maxValue,tooltip:!1,indicator:"",rounded:""},on:{change:e.actionSlider},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):"select"===e.action.type?n("div",{staticClass:"select ml-5 mt-2",attrs:{lazy:"",title:e.action.name}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.value=t.target.multiple?n:n[0]},e.actionSelect]}},e._l(e.action.options,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label||t.value))])})),0)]):"switch"===e.action.type?n("b-switch",{staticClass:"mb-2",attrs:{title:e.action.name},on:{input:e.actionSwitch},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):n("span",[e._v(e._s(e.action))])}),o=[],u=n("647b"),c={mixins:[u["a"]],props:{id:{type:String,required:!0}},computed:{value:{get:function(){if(Object.prototype.hasOwnProperty.call(this.action,"currentValue"))return this.action.currentValue;var e=this.getStateById(this.action.stateFeedbackId);return e.currentValue},set:function(){}},action:function(){return this.getActionById(this.id)},iconClass:function(){return this.getIconClass(this.action)}},methods:{execute:function(){this.checkConfirmAndExecuteAction(this.action,{id:this.action.id})},actionSlider:function(e){this.vxExecuteAction({id:this.action.id,options:{slider:e}})},actionSelect:function(e){this.vxExecuteAction({id:this.action.id,options:{select:e.target.value}})},actionSwitch:function(e){this.vxExecuteAction({id:this.action.id,options:{params:{value:e}}})}}},l=c,m=n("2877"),d=Object(m["a"])(l,s,o,!1,null,null,null),p=d.exports,f=n("8f33"),h=n("2f62"),b=Object(h["a"])("data"),g=b.mapGetters,v={components:{Action:p,Info:f["a"]},mixins:[u["a"]],props:{equipment:{type:Object,required:!0}},computed:Object(i["a"])({attributes:function(){var e=[],t=[],n=[],a=this.getActionsByIds(this.equipment.actions).filter((function(e){return e.isVisible}));return this.getStatesByIds(this.equipment.states).filter((function(e){return e.isVisible})).forEach((function(e){if("boolean"===e.type){var r=a.find((function(t){return t.stateFeedbackId===e.id&&"switch_on"===t.type})),i=a.find((function(t){return t.stateFeedbackId===e.id&&"switch_off"===t.type})),s=a.find((function(t){return t.stateFeedbackId===e.id&&"switch"===t.type}));r&&i&&t.push(r.id,i.id),s&&t.push(s.id),n.push(e.id)}else if("numeric"===e.type){var o=a.find((function(t){return t.stateFeedbackId===e.id&&"slider"===t.type}));o&&t.push(o.id),n.push(e.id)}else if("string"===e.type){var u=a.find((function(t){return t.stateFeedbackId===e.id&&"select"===t.type}));u&&t.push(u.id),n.push(e.id)}})),a.forEach((function(n){t.includes(n.id)||e.push(n.id)})),{states:n,actions:e}}},g(["getEquipmentById"]))},y=v,w=Object(m["a"])(y,a,r,!1,null,null,null);t["default"]=w.exports},d09c:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l([0,1],(function(e){return n("div",{key:e,staticClass:"is-flex-space-between mb-4"},[n("span",{staticClass:"loading-info"})])})),0)},r=[],i=n("2877"),s={},o=Object(i["a"])(s,a,r,!1,null,null,null);t["default"]=o.exports},fbf5:function(e,t,n){e.exports=n.p+"img/home.43c4f82c.png"}});
//# sourceMappingURL=app.7a60dda8.js.map